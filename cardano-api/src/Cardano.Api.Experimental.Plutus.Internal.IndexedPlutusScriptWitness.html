<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE KindSignatures #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness</span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Constuct an indexed plutus script witness.</span></span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#AnyIndexedPlutusScriptWitness"><span class="hs-identifier">AnyIndexedPlutusScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#IndexedPlutusScriptWitness"><span class="hs-identifier">IndexedPlutusScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Witnessable things.</span></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier">Witnessable</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitnessableItem"><span class="hs-identifier">WitnessableItem</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Create the index for a witnessable thing.</span></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#GetPlutusScriptPurpose"><span class="hs-identifier">GetPlutusScriptPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#createIndexedPlutusScriptWitnesses"><span class="hs-identifier">createIndexedPlutusScriptWitnesses</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#getAnyWitnessRedeemerPointerMap"><span class="hs-identifier">getAnyWitnessRedeemerPointerMap</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#obtainAlonzoScriptPurposeConstraints"><span class="hs-identifier">obtainAlonzoScriptPurposeConstraints</span></a></span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Exposed for testing</span></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#constructRedeeemerPointerMap"><span class="hs-identifier">constructRedeeemerPointerMap</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">where</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Address.html"><span class="hs-identifier">Cardano.Api.Address</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html"><span class="hs-identifier">Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html"><span class="hs-identifier">Cardano.Api.Era.Internal.Eon.ShelleyBasedEra</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.ScriptWitness.html"><span class="hs-identifier">Cardano.Api.Experimental.Plutus.Internal.ScriptWitness</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.AnyWitness.html"><span class="hs-identifier">Cardano.Api.Experimental.Tx.Internal.AnyWitness</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Ledger.html"><span class="hs-identifier">Cardano.Api.Ledger</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Plutus.Internal.Script.html"><span class="hs-identifier">Cardano.Api.Plutus.Internal.Script</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Plutus.Internal.Script.html#toAlonzoExUnits"><span class="hs-identifier">toAlonzoExUnits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Plutus.Internal.ScriptData.html"><span class="hs-identifier">Cardano.Api.Plutus.Internal.ScriptData</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.TxIn.html"><span class="hs-identifier">Cardano.Api.Tx.Internal.TxIn</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Value.Internal.html"><span class="hs-identifier">Cardano.Api.Value.Internal</span></a></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.TxWits.html"><span class="hs-identifier">Cardano.Ledger.Alonzo.TxWits</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.Scripts.html"><span class="hs-identifier">Cardano.Ledger.Conway.Scripts</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html"><span class="hs-identifier">Data.Function</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">List</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Word.html"><span class="hs-identifier">Data.Word</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Exts.html"><span class="hs-identifier">GHC.Exts</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-comment">-- | A Plutus script witness along the thing it is witnessing and the index of that thing.</span><span>
</span><span id="line-49"></span><span class="hs-comment">-- E.g transaction input, certificate, withdrawal, minting policy, etc.</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- A Plutus script witness only makes sense in the context of what it is witnessing</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- and the index of the thing it is witnessing.</span><span>
</span><span id="line-52"></span><span class="hs-keyword">data</span><span> </span><span id="IndexedPlutusScriptWitness"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#IndexedPlutusScriptWitness"><span class="hs-identifier hs-var">IndexedPlutusScriptWitness</span></a></span></span><span> </span><span id="local-6989586621681158413"><span class="annot"><a href="#local-6989586621681158413"><span class="hs-identifier hs-type">witnessable</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681158414"><span class="annot"><a href="#local-6989586621681158414"><span class="hs-identifier hs-type">lang</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Plutus.Language.html#Language"><span class="hs-identifier hs-type">L.Language</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681158415"><span class="annot"><a href="#local-6989586621681158415"><span class="hs-identifier hs-type">purpose</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.ScriptWitness.html#PlutusScriptPurpose"><span class="hs-identifier hs-type">PlutusScriptPurpose</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681158416"><span class="annot"><a href="#local-6989586621681158416"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-53"></span><span>  </span><span id="local-6989586621681158154"><span id="local-6989586621681158155"><span id="local-6989586621681158156"><span id="local-6989586621681158157"><span id="IndexedPlutusScriptWitness"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#IndexedPlutusScriptWitness"><span class="hs-identifier hs-var">IndexedPlutusScriptWitness</span></a></span></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AlonzoEraScript"><span class="hs-identifier hs-type">L.AlonzoEraScript</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158154"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158155"><span class="hs-identifier hs-type">witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158154"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#PlutusPurpose"><span class="hs-identifier hs-type">L.PlutusPurpose</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AsIx"><span class="hs-identifier hs-type">L.AsIx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158154"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.ScriptWitness.html#PlutusScriptWitness"><span class="hs-identifier hs-type">PlutusScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158156"><span class="hs-identifier hs-type">lang</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158157"><span class="hs-identifier hs-type">purpose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158154"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#IndexedPlutusScriptWitness"><span class="hs-identifier hs-type">IndexedPlutusScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158155"><span class="hs-identifier hs-type">witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158156"><span class="hs-identifier hs-type">lang</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158157"><span class="hs-identifier hs-type">purpose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158154"><span class="hs-identifier hs-type">era</span></a></span></span></span></span></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span id="local-6989586621681158111"><span id="local-6989586621681158112"><span id="local-6989586621681158113"><span id="local-6989586621681158114"><span id="local-6989586621681158419"><span id="local-6989586621681158421"><span id="local-6989586621681158424"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#IndexedPlutusScriptWitness"><span class="hs-identifier hs-type">IndexedPlutusScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158111"><span class="hs-identifier hs-type">witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158112"><span class="hs-identifier hs-type">lang</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158113"><span class="hs-identifier hs-type">purpose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158114"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-keyword">data</span><span> </span><span id="AnyIndexedPlutusScriptWitness"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#AnyIndexedPlutusScriptWitness"><span class="hs-identifier hs-var">AnyIndexedPlutusScriptWitness</span></a></span></span><span> </span><span id="local-6989586621681158427"><span class="annot"><a href="#local-6989586621681158427"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-63"></span><span>  </span><span id="local-6989586621681158165"><span id="local-6989586621681158428"><span id="local-6989586621681158429"><span id="local-6989586621681158430"><span id="AnyIndexedPlutusScriptWitness"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#AnyIndexedPlutusScriptWitness"><span class="hs-identifier hs-var">AnyIndexedPlutusScriptWitness</span></a></span></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#GetPlutusScriptPurpose"><span class="hs-identifier hs-type">GetPlutusScriptPurpose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158165"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#IndexedPlutusScriptWitness"><span class="hs-identifier hs-type">IndexedPlutusScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158428"><span class="hs-identifier hs-type">witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158429"><span class="hs-identifier hs-type">lang</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158430"><span class="hs-identifier hs-type">purpose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158165"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#AnyIndexedPlutusScriptWitness"><span class="hs-identifier hs-type">AnyIndexedPlutusScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158165"><span class="hs-identifier hs-type">era</span></a></span></span></span></span></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span id="local-6989586621681158116"><span id="local-6989586621681158433"><span id="local-6989586621681158435"><span id="local-6989586621681158439"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#AnyIndexedPlutusScriptWitness"><span class="hs-identifier hs-type">AnyIndexedPlutusScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158116"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-comment">-- | These are all of the &quot;things&quot; a plutus script can witness. We include the relevant</span><span>
</span><span id="line-71"></span><span class="hs-comment">-- type class constraint to avoid boilerplate when creating the 'PlutusPurpose' in</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- the 'GetPlutusScriptPurpose' instances.</span><span>
</span><span id="line-73"></span><span class="hs-keyword">data</span><span> </span><span id="Witnessable"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-var">Witnessable</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681158441"><span class="annot"><a href="#local-6989586621681158441"><span class="hs-identifier hs-type">thing</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitnessableItem"><span class="hs-identifier hs-type">WitnessableItem</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681158442"><span class="annot"><a href="#local-6989586621681158442"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-74"></span><span>  </span><span id="local-6989586621681158443"><span id="WitTxIn"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitTxIn"><span class="hs-identifier hs-var">WitTxIn</span></a></span></span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AlonzoEraScript"><span class="hs-identifier hs-type">L.AlonzoEraScript</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158443"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.TxIn.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a></span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#TxInItem"><span class="hs-identifier hs-type">TxInItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158443"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-78"></span><span>  </span><span id="local-6989586621681158445"><span id="WitTxCert"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitTxCert"><span class="hs-identifier hs-var">WitTxCert</span></a></span></span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.TxCert.html#EraTxCert"><span class="hs-identifier hs-type">L.EraTxCert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158445"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AlonzoEraScript"><span class="hs-identifier hs-type">L.AlonzoEraScript</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158445"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.TxCert.html#TxCert"><span class="hs-identifier hs-type">L.TxCert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158445"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Address.html#StakeCredential"><span class="hs-identifier hs-type">StakeCredential</span></a></span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#CertItem"><span class="hs-identifier hs-type">CertItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158445"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-83"></span><span>  </span><span id="local-6989586621681158447"><span id="WitMint"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitMint"><span class="hs-identifier hs-var">WitMint</span></a></span></span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AlonzoEraScript"><span class="hs-identifier hs-type">L.AlonzoEraScript</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158447"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Value.Internal.html#PolicyId"><span class="hs-identifier hs-type">PolicyId</span></a></span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Value.Internal.html#PolicyAssets"><span class="hs-identifier hs-type">PolicyAssets</span></a></span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#MintItem"><span class="hs-identifier hs-type">MintItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158447"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-88"></span><span>  </span><span id="local-6989586621681158449"><span id="WitWithdrawal"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitWithdrawal"><span class="hs-identifier hs-var">WitWithdrawal</span></a></span></span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AlonzoEraScript"><span class="hs-identifier hs-type">L.AlonzoEraScript</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158449"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Address.html#StakeAddress"><span class="hs-identifier hs-type">StakeAddress</span></a></span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-type">L.Coin</span></a></span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WithdrawalItem"><span class="hs-identifier hs-type">WithdrawalItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158449"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-93"></span><span>  </span><span id="local-6989586621681158451"><span id="WitVote"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitVote"><span class="hs-identifier hs-var">WitVote</span></a></span></span><span>
</span><span id="line-94"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.Scripts.html#ConwayEraScript"><span class="hs-identifier hs-type">L.ConwayEraScript</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158451"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.Governance.Procedures.html#Voter"><span class="hs-identifier hs-type">L.Voter</span></a></span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#VoterItem"><span class="hs-identifier hs-type">VoterItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158451"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-97"></span><span>  </span><span id="local-6989586621681158453"><span id="WitProposal"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitProposal"><span class="hs-identifier hs-var">WitProposal</span></a></span></span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.Scripts.html#ConwayEraScript"><span class="hs-identifier hs-type">L.ConwayEraScript</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158453"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.PParams.html#EraPParams"><span class="hs-identifier hs-type">L.EraPParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158453"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.Governance.Procedures.html#ProposalProcedure"><span class="hs-identifier hs-type">L.ProposalProcedure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158453"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#ProposalItem"><span class="hs-identifier hs-type">ProposalItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158453"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span id="local-6989586621681158117"><span id="local-6989586621681158118"><span id="local-6989586621681158456"><span id="local-6989586621681158458"><span id="local-6989586621681158461"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158117"><span class="hs-identifier hs-type">thing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158118"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span id="local-6989586621681158120"><span id="local-6989586621681158121"><span id="local-6989586621681158464"><span id="local-6989586621681158466"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158120"><span class="hs-identifier hs-type">thing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158121"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-comment">-- | We have to enforce the same ordering of witnessable things that exists in the ledger.</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- If we don't our redeemer pointer map will be incorrect and the transaction will be invalid.</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- See section 4.1 Combining Scripts with Their Inputs of the Alonzo ledger specification.</span><span>
</span><span id="line-109"></span><span id="local-6989586621681158122"><span id="local-6989586621681158123"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#compareWitnesses"><span class="hs-identifier hs-type">compareWitnesses</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158122"><span class="hs-identifier hs-type">thing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158123"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158122"><span class="hs-identifier hs-type">thing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158123"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#Ordering"><span class="hs-identifier hs-type">Ordering</span></a></span></span></span><span>
</span><span id="line-110"></span><span id="compareWitnesses"><span class="annot"><span class="annottext">compareWitnesses :: forall (thing :: WitnessableItem) era.
Witnessable thing era -&gt; Witnessable thing era -&gt; Ordering
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#compareWitnesses"><span class="hs-identifier hs-var hs-var">compareWitnesses</span></a></span></span><span> </span><span id="local-6989586621681158471"><span class="annot"><span class="annottext">Witnessable thing era
</span><a href="#local-6989586621681158471"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681158472"><span class="annot"><span class="annottext">Witnessable thing era
</span><a href="#local-6989586621681158472"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Witnessable thing era
</span><a href="#local-6989586621681158471"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Witnessable thing era
</span><a href="#local-6989586621681158472"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitTxIn"><span class="hs-identifier hs-type">WitTxIn</span></a></span><span> </span><span id="local-6989586621681158475"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681158475"><span class="hs-identifier hs-var">txinA</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitTxIn"><span class="hs-identifier hs-type">WitTxIn</span></a></span><span> </span><span id="local-6989586621681158480"><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681158480"><span class="hs-identifier hs-var">txinB</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TxIn -&gt; TxIn -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#compare"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681158475"><span class="hs-identifier hs-var">txinA</span></a></span><span> </span><span class="annot"><span class="annottext">TxIn
</span><a href="#local-6989586621681158480"><span class="hs-identifier hs-var">txinB</span></a></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitTxCert"><span class="hs-identifier hs-type">WitTxCert</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitTxCert"><span class="hs-identifier hs-type">WitTxCert</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Types.html#LT"><span class="hs-identifier hs-var">LT</span></a></span><span> </span><span class="hs-comment">-- Certificates in the ledger are in an `OSet` therefore we preserve the order.</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitMint"><span class="hs-identifier hs-type">WitMint</span></a></span><span> </span><span id="local-6989586621681158490"><span class="annot"><span class="annottext">PolicyId
</span><a href="#local-6989586621681158490"><span class="hs-identifier hs-var">polIdA</span></a></span></span><span> </span><span class="annot"><span class="annottext">PolicyAssets
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitMint"><span class="hs-identifier hs-type">WitMint</span></a></span><span> </span><span id="local-6989586621681158495"><span class="annot"><span class="annottext">PolicyId
</span><a href="#local-6989586621681158495"><span class="hs-identifier hs-var">polIdB</span></a></span></span><span> </span><span class="annot"><span class="annottext">PolicyAssets
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PolicyId -&gt; PolicyId -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#compare"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">PolicyId
</span><a href="#local-6989586621681158490"><span class="hs-identifier hs-var">polIdA</span></a></span><span> </span><span class="annot"><span class="annottext">PolicyId
</span><a href="#local-6989586621681158495"><span class="hs-identifier hs-var">polIdB</span></a></span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitWithdrawal"><span class="hs-identifier hs-type">WitWithdrawal</span></a></span><span> </span><span id="local-6989586621681158498"><span class="annot"><span class="annottext">StakeAddress
</span><a href="#local-6989586621681158498"><span class="hs-identifier hs-var">stakeAddrA</span></a></span></span><span> </span><span class="annot"><span class="annottext">Coin
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitWithdrawal"><span class="hs-identifier hs-type">WitWithdrawal</span></a></span><span> </span><span id="local-6989586621681158503"><span class="annot"><span class="annottext">StakeAddress
</span><a href="#local-6989586621681158503"><span class="hs-identifier hs-var">stakeAddrB</span></a></span></span><span> </span><span class="annot"><span class="annottext">Coin
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StakeAddress -&gt; StakeAddress -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#compare"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">StakeAddress
</span><a href="#local-6989586621681158498"><span class="hs-identifier hs-var">stakeAddrA</span></a></span><span> </span><span class="annot"><span class="annottext">StakeAddress
</span><a href="#local-6989586621681158503"><span class="hs-identifier hs-var">stakeAddrB</span></a></span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitVote"><span class="hs-identifier hs-type">WitVote</span></a></span><span> </span><span id="local-6989586621681158506"><span class="annot"><span class="annottext">Voter
</span><a href="#local-6989586621681158506"><span class="hs-identifier hs-var">voterA</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitVote"><span class="hs-identifier hs-type">WitVote</span></a></span><span> </span><span id="local-6989586621681158511"><span class="annot"><span class="annottext">Voter
</span><a href="#local-6989586621681158511"><span class="hs-identifier hs-var">voterB</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Voter -&gt; Voter -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#compare"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">Voter
</span><a href="#local-6989586621681158506"><span class="hs-identifier hs-var">voterA</span></a></span><span> </span><span class="annot"><span class="annottext">Voter
</span><a href="#local-6989586621681158511"><span class="hs-identifier hs-var">voterB</span></a></span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitProposal"><span class="hs-identifier hs-type">WitProposal</span></a></span><span> </span><span id="local-6989586621681158515"><span class="annot"><span class="annottext">ProposalProcedure era
</span><a href="#local-6989586621681158515"><span class="hs-identifier hs-var">propA</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitProposal"><span class="hs-identifier hs-type">WitProposal</span></a></span><span> </span><span id="local-6989586621681158521"><span class="annot"><span class="annottext">ProposalProcedure era
</span><a href="#local-6989586621681158521"><span class="hs-identifier hs-var">propB</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ProposalProcedure era -&gt; ProposalProcedure era -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/ghc-prim-0.11.0-inplace/src/GHC.Classes.html#compare"><span class="hs-identifier hs-var">compare</span></a></span><span> </span><span class="annot"><span class="annottext">ProposalProcedure era
</span><a href="#local-6989586621681158515"><span class="hs-identifier hs-var">propA</span></a></span><span> </span><span class="annot"><span class="annottext">ProposalProcedure era
</span><a href="#local-6989586621681158521"><span class="hs-identifier hs-var">propB</span></a></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-keyword">data</span><span> </span><span id="WitnessableItem"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitnessableItem"><span class="hs-identifier hs-var">WitnessableItem</span></a></span></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TxInItem"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#TxInItem"><span class="hs-identifier hs-var">TxInItem</span></a></span></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CertItem"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#CertItem"><span class="hs-identifier hs-var">CertItem</span></a></span></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MintItem"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#MintItem"><span class="hs-identifier hs-var">MintItem</span></a></span></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="WithdrawalItem"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WithdrawalItem"><span class="hs-identifier hs-var">WithdrawalItem</span></a></span></span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="VoterItem"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#VoterItem"><span class="hs-identifier hs-var">VoterItem</span></a></span></span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ProposalItem"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#ProposalItem"><span class="hs-identifier hs-var">ProposalItem</span></a></span></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-comment">-- | To reduce boilerplate, we reuse the `PlutusPurpose` type from `cardano-ledger`.</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- This type is utilized in constructing the redeemer pointers map, which</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- links the redeemer and execution units with the entity being witnessed.</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- The map is indexed by the redeemer pointer.</span><span>
</span><span id="line-131"></span><span class="hs-comment">--</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- A natural question arises: How do Plutus scripts determine which</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- execution units and redeemer are paired with them? The ledger constructs a redeemer pointer</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- for every Plutus script, and this pointer corresponds to the one in the transaction's</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- redeemer pointers map. For more details, refer to `collectPlutusScriptsWithContext`</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- in `cardano-ledger`.</span><span>
</span><span id="line-137"></span><span class="hs-keyword">class</span><span> </span><span id="GetPlutusScriptPurpose"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#GetPlutusScriptPurpose"><span class="hs-identifier hs-var">GetPlutusScriptPurpose</span></a></span></span><span> </span><span id="local-6989586621681158130"><span class="annot"><a href="#local-6989586621681158130"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-138"></span><span>  </span><span id="toPlutusScriptPurpose"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#toPlutusScriptPurpose"><span class="hs-identifier hs-type">toPlutusScriptPurpose</span></a></span></span><span>
</span><span id="line-139"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621681158128"><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Word.html#Word32"><span class="hs-identifier hs-type">Word32</span></a></span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158128"><span class="hs-identifier hs-type">thing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158130"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#PlutusPurpose"><span class="hs-identifier hs-type">L.PlutusPurpose</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AsIx"><span class="hs-identifier hs-type">L.AsIx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158130"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681158131"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#GetPlutusScriptPurpose"><span class="hs-identifier hs-type">GetPlutusScriptPurpose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158131"><span class="hs-identifier hs-type">era</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>  </span><span id="local-6989586621681158526"><span class="annot"><span class="annottext">toPlutusScriptPurpose :: forall (thing :: WitnessableItem).
Word32 -&gt; Witnessable thing era -&gt; PlutusPurpose AsIx era
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#toPlutusScriptPurpose"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPlutusScriptPurpose</span></a></span></span><span> </span><span id="local-6989586621681158527"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158527"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitTxIn"><span class="hs-identifier hs-type">WitTxIn</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AsIx Word32 TxIn -&gt; PlutusPurpose AsIx era
forall era (f :: * -&gt; * -&gt; *).
AlonzoEraScript era =&gt;
f Word32 TxIn -&gt; PlutusPurpose f era
forall (f :: * -&gt; * -&gt; *). f Word32 TxIn -&gt; PlutusPurpose f era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#mkSpendingPurpose"><span class="hs-identifier hs-var">L.mkSpendingPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; AsIx Word32 TxIn
forall ix it. ix -&gt; AsIx ix it
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AsIx"><span class="hs-identifier hs-var">L.AsIx</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158527"><span class="hs-identifier hs-var">index</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>  </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#toPlutusScriptPurpose"><span class="hs-identifier hs-var">toPlutusScriptPurpose</span></a></span><span> </span><span id="local-6989586621681158533"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158533"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitWithdrawal"><span class="hs-identifier hs-type">WitWithdrawal</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AsIx Word32 RewardAccount -&gt; PlutusPurpose AsIx era
forall era (f :: * -&gt; * -&gt; *).
AlonzoEraScript era =&gt;
f Word32 RewardAccount -&gt; PlutusPurpose f era
forall (f :: * -&gt; * -&gt; *).
f Word32 RewardAccount -&gt; PlutusPurpose f era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#mkRewardingPurpose"><span class="hs-identifier hs-var">L.mkRewardingPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; AsIx Word32 RewardAccount
forall ix it. ix -&gt; AsIx ix it
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AsIx"><span class="hs-identifier hs-var">L.AsIx</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158533"><span class="hs-identifier hs-var">index</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#toPlutusScriptPurpose"><span class="hs-identifier hs-var">toPlutusScriptPurpose</span></a></span><span> </span><span id="local-6989586621681158538"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158538"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitMint"><span class="hs-identifier hs-type">WitMint</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AsIx Word32 PolicyID -&gt; PlutusPurpose AsIx era
forall era (f :: * -&gt; * -&gt; *).
AlonzoEraScript era =&gt;
f Word32 PolicyID -&gt; PlutusPurpose f era
forall (f :: * -&gt; * -&gt; *). f Word32 PolicyID -&gt; PlutusPurpose f era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#mkMintingPurpose"><span class="hs-identifier hs-var">L.mkMintingPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; AsIx Word32 PolicyID
forall ix it. ix -&gt; AsIx ix it
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AsIx"><span class="hs-identifier hs-var">L.AsIx</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158538"><span class="hs-identifier hs-var">index</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>  </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#toPlutusScriptPurpose"><span class="hs-identifier hs-var">toPlutusScriptPurpose</span></a></span><span> </span><span id="local-6989586621681158543"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158543"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitTxCert"><span class="hs-identifier hs-type">WitTxCert</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AsIx Word32 (TxCert era) -&gt; PlutusPurpose AsIx era
forall era (f :: * -&gt; * -&gt; *).
AlonzoEraScript era =&gt;
f Word32 (TxCert era) -&gt; PlutusPurpose f era
forall (f :: * -&gt; * -&gt; *).
f Word32 (TxCert era) -&gt; PlutusPurpose f era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#mkCertifyingPurpose"><span class="hs-identifier hs-var">L.mkCertifyingPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; AsIx Word32 (TxCert era)
forall ix it. ix -&gt; AsIx ix it
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AsIx"><span class="hs-identifier hs-var">L.AsIx</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158543"><span class="hs-identifier hs-var">index</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#toPlutusScriptPurpose"><span class="hs-identifier hs-var">toPlutusScriptPurpose</span></a></span><span> </span><span id="local-6989586621681158549"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158549"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitVote"><span class="hs-identifier hs-type">WitVote</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AsIx Word32 Voter -&gt; PlutusPurpose AsIx era
forall era (f :: * -&gt; * -&gt; *).
ConwayEraScript era =&gt;
f Word32 Voter -&gt; PlutusPurpose f era
forall (f :: * -&gt; * -&gt; *). f Word32 Voter -&gt; PlutusPurpose f era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.Scripts.html#mkVotingPurpose"><span class="hs-identifier hs-var">L.mkVotingPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; AsIx Word32 Voter
forall ix it. ix -&gt; AsIx ix it
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AsIx"><span class="hs-identifier hs-var">L.AsIx</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158549"><span class="hs-identifier hs-var">index</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>  </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#toPlutusScriptPurpose"><span class="hs-identifier hs-var">toPlutusScriptPurpose</span></a></span><span> </span><span id="local-6989586621681158554"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158554"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#WitProposal"><span class="hs-identifier hs-type">WitProposal</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AsIx Word32 (ProposalProcedure era) -&gt; PlutusPurpose AsIx era
forall era (f :: * -&gt; * -&gt; *).
ConwayEraScript era =&gt;
f Word32 (ProposalProcedure era) -&gt; PlutusPurpose f era
forall (f :: * -&gt; * -&gt; *).
f Word32 (ProposalProcedure era) -&gt; PlutusPurpose f era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.Scripts.html#mkProposingPurpose"><span class="hs-identifier hs-var">L.mkProposingPurpose</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; AsIx Word32 (ProposalProcedure era)
forall ix it. ix -&gt; AsIx ix it
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AsIx"><span class="hs-identifier hs-var">L.AsIx</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158554"><span class="hs-identifier hs-var">index</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span id="local-6989586621681158146"><span id="local-6989586621681158147"><span id="local-6989586621681158148"><span id="local-6989586621681158149"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#createIndexedPlutusScriptWitness"><span class="hs-identifier hs-type">createIndexedPlutusScriptWitness</span></a></span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AlonzoEraScript"><span class="hs-identifier hs-type">L.AlonzoEraScript</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158146"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Word.html#Word32"><span class="hs-identifier hs-type">Word32</span></a></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158147"><span class="hs-identifier hs-type">witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158146"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.ScriptWitness.html#PlutusScriptWitness"><span class="hs-identifier hs-type">PlutusScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158148"><span class="hs-identifier hs-type">lang</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158149"><span class="hs-identifier hs-type">purpose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158146"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#IndexedPlutusScriptWitness"><span class="hs-identifier hs-type">IndexedPlutusScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158147"><span class="hs-identifier hs-type">witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158148"><span class="hs-identifier hs-type">lang</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158149"><span class="hs-identifier hs-type">purpose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158146"><span class="hs-identifier hs-type">era</span></a></span></span></span></span></span><span>
</span><span id="line-157"></span><span id="createIndexedPlutusScriptWitness"><span class="annot"><span class="annottext">createIndexedPlutusScriptWitness :: forall era (witnessable :: WitnessableItem) (lang :: Language)
       (purpose :: PlutusScriptPurpose).
AlonzoEraScript era =&gt;
Word32
-&gt; Witnessable witnessable era
-&gt; PlutusScriptWitness lang purpose era
-&gt; IndexedPlutusScriptWitness witnessable lang purpose era
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#createIndexedPlutusScriptWitness"><span class="hs-identifier hs-var hs-var">createIndexedPlutusScriptWitness</span></a></span></span><span> </span><span id="local-6989586621681158564"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158564"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span id="local-6989586621681158565"><span class="annot"><span class="annottext">Witnessable witnessable era
</span><a href="#local-6989586621681158565"><span class="hs-identifier hs-var">witnessable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><span class="annottext">Witnessable witnessable era
-&gt; PlutusPurpose AsIx era
-&gt; PlutusScriptWitness lang purpose era
-&gt; IndexedPlutusScriptWitness witnessable lang purpose era
forall era (witnessable :: WitnessableItem) (lang :: Language)
       (purpose :: PlutusScriptPurpose).
AlonzoEraScript era =&gt;
Witnessable witnessable era
-&gt; PlutusPurpose AsIx era
-&gt; PlutusScriptWitness lang purpose era
-&gt; IndexedPlutusScriptWitness witnessable lang purpose era
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#IndexedPlutusScriptWitness"><span class="hs-identifier hs-var">IndexedPlutusScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">Witnessable witnessable era
</span><a href="#local-6989586621681158565"><span class="hs-identifier hs-var">witnessable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word32 -&gt; Witnessable witnessable era -&gt; PlutusPurpose AsIx era
forall era (thing :: WitnessableItem).
GetPlutusScriptPurpose era =&gt;
Word32 -&gt; Witnessable thing era -&gt; PlutusPurpose AsIx era
forall (thing :: WitnessableItem).
Word32 -&gt; Witnessable thing era -&gt; PlutusPurpose AsIx era
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#toPlutusScriptPurpose"><span class="hs-identifier hs-var">toPlutusScriptPurpose</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158564"><span class="hs-identifier hs-var">index</span></a></span><span> </span><span class="annot"><span class="annottext">Witnessable witnessable era
</span><a href="#local-6989586621681158565"><span class="hs-identifier hs-var">witnessable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">-- | Create a list of indexed plutus script witnesses from anything witnessable that has been</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- witnesseed by a plutus script.</span><span>
</span><span id="line-162"></span><span id="local-6989586621681158158"><span id="local-6989586621681158159"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#createIndexedPlutusScriptWitnesses"><span class="hs-identifier hs-type">createIndexedPlutusScriptWitnesses</span></a></span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AlonzoEraScript"><span class="hs-identifier hs-type">L.AlonzoEraScript</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158158"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158159"><span class="hs-identifier hs-type">witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158158"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">AnyWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158158"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#AnyIndexedPlutusScriptWitness"><span class="hs-identifier hs-type">AnyIndexedPlutusScriptWitness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158158"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-166"></span><span id="createIndexedPlutusScriptWitnesses"><span class="annot"><span class="annottext">createIndexedPlutusScriptWitnesses :: forall era (witnessable :: WitnessableItem).
AlonzoEraScript era =&gt;
[(Witnessable witnessable era, AnyWitness era)]
-&gt; [AnyIndexedPlutusScriptWitness era]
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#createIndexedPlutusScriptWitnesses"><span class="hs-identifier hs-var hs-var">createIndexedPlutusScriptWitnesses</span></a></span></span><span> </span><span id="local-6989586621681158571"><span class="annot"><span class="annottext">[(Witnessable witnessable era, AnyWitness era)]
</span><a href="#local-6989586621681158571"><span class="hs-identifier hs-var">witnessableThings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">IndexedPlutusScriptWitness witnessable lang purpose era
-&gt; AnyIndexedPlutusScriptWitness era
forall era (witnessable :: WitnessableItem) (lang :: Language)
       (purpose :: PlutusScriptPurpose).
GetPlutusScriptPurpose era =&gt;
IndexedPlutusScriptWitness witnessable lang purpose era
-&gt; AnyIndexedPlutusScriptWitness era
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#AnyIndexedPlutusScriptWitness"><span class="hs-identifier hs-var">AnyIndexedPlutusScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">(IndexedPlutusScriptWitness witnessable lang purpose era
 -&gt; AnyIndexedPlutusScriptWitness era)
-&gt; IndexedPlutusScriptWitness witnessable lang purpose era
-&gt; AnyIndexedPlutusScriptWitness era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
-&gt; Witnessable witnessable era
-&gt; PlutusScriptWitness lang purpose era
-&gt; IndexedPlutusScriptWitness witnessable lang purpose era
forall era (witnessable :: WitnessableItem) (lang :: Language)
       (purpose :: PlutusScriptPurpose).
AlonzoEraScript era =&gt;
Word32
-&gt; Witnessable witnessable era
-&gt; PlutusScriptWitness lang purpose era
-&gt; IndexedPlutusScriptWitness witnessable lang purpose era
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#createIndexedPlutusScriptWitness"><span class="hs-identifier hs-var">createIndexedPlutusScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158574"><span class="hs-identifier hs-var">index</span></a></span><span> </span><span class="annot"><span class="annottext">Witnessable witnessable era
</span><a href="#local-6989586621681158575"><span class="hs-identifier hs-var">thing</span></a></span><span> </span><span class="annot"><span class="annottext">PlutusScriptWitness lang purpose era
</span><a href="#local-6989586621681158576"><span class="hs-identifier hs-var">sWit</span></a></span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681158574"><span class="annot"><span class="annottext">Word32
</span><a href="#local-6989586621681158574"><span class="hs-identifier hs-var">index</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681158575"><span class="annot"><span class="annottext">Witnessable witnessable era
</span><a href="#local-6989586621681158575"><span class="hs-identifier hs-var">thing</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyPlutusScriptWitness"><span class="hs-identifier hs-type">AnyPlutusScriptWitness</span></a></span><span> </span><span id="local-6989586621681158576"><span class="annot"><span class="annottext">PlutusScriptWitness lang purpose era
</span><a href="#local-6989586621681158576"><span class="hs-identifier hs-var">sWit</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Word32]
-&gt; [(Witnessable witnessable era, AnyWitness era)]
-&gt; [(Word32, (Witnessable witnessable era, AnyWitness era))]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.List.html#zip"><span class="hs-identifier hs-var">zip</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Word32
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">([(Witnessable witnessable era, AnyWitness era)]
 -&gt; [(Word32, (Witnessable witnessable era, AnyWitness era))])
-&gt; [(Witnessable witnessable era, AnyWitness era)]
-&gt; [(Word32, (Witnessable witnessable era, AnyWitness era))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[(Witnessable witnessable era, AnyWitness era)]
-&gt; [(Witnessable witnessable era, AnyWitness era)]
forall {thing :: WitnessableItem} {era} {b}.
[(Witnessable thing era, b)] -&gt; [(Witnessable thing era, b)]
</span><a href="#local-6989586621681158578"><span class="hs-identifier hs-var">enforceOrdering</span></a></span><span> </span><span class="annot"><span class="annottext">[(Witnessable witnessable era, AnyWitness era)]
</span><a href="#local-6989586621681158571"><span class="hs-identifier hs-var">witnessableThings</span></a></span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-170"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-171"></span><span>  </span><span id="local-6989586621681158578"><span class="annot"><span class="annottext">enforceOrdering :: [(Witnessable thing era, b)] -&gt; [(Witnessable thing era, b)]
</span><a href="#local-6989586621681158578"><span class="hs-identifier hs-var hs-var">enforceOrdering</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Witnessable thing era, b)
 -&gt; (Witnessable thing era, b) -&gt; Ordering)
-&gt; [(Witnessable thing era, b)] -&gt; [(Witnessable thing era, b)]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.OldList.html#sortBy"><span class="hs-identifier hs-var">List.sortBy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Witnessable thing era -&gt; Witnessable thing era -&gt; Ordering
forall (thing :: WitnessableItem) era.
Witnessable thing era -&gt; Witnessable thing era -&gt; Ordering
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#compareWitnesses"><span class="hs-identifier hs-var">compareWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">(Witnessable thing era -&gt; Witnessable thing era -&gt; Ordering)
-&gt; ((Witnessable thing era, b) -&gt; Witnessable thing era)
-&gt; (Witnessable thing era, b)
-&gt; (Witnessable thing era, b)
-&gt; Ordering
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#on"><span class="hs-operator hs-var">`on`</span></a></span><span> </span><span class="annot"><span class="annottext">(Witnessable thing era, b) -&gt; Witnessable thing era
forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-comment">-- | The transaction's redeemer pointer map allows the ledger to connect a redeemer and execution unit pairing to the relevant</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- script. The ledger basically reconstructs the indicies (redeemer pointers) of this map can then look up the relevant</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- execution units/redeemer pairing. NB: the redeemer pointer has been renamed to 'PlutusPurpose AsIndex' in the ledger.</span><span>
</span><span id="line-176"></span><span id="local-6989586621681158184"><span id="local-6989586621681158186"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#getAnyWitnessRedeemerPointerMap"><span class="hs-identifier hs-type">getAnyWitnessRedeemerPointerMap</span></a></span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwards"><span class="hs-identifier hs-type">AlonzoEraOnwards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158184"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#Witnessable"><span class="hs-identifier hs-type">Witnessable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158186"><span class="hs-identifier hs-type">witnessable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158184"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier hs-type">AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158184"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.TxWits.html#Redeemers"><span class="hs-identifier hs-type">L.Redeemers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158184"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-180"></span><span id="getAnyWitnessRedeemerPointerMap"><span class="annot"><span class="annottext">getAnyWitnessRedeemerPointerMap :: forall era (witnessable :: WitnessableItem).
AlonzoEraOnwards era
-&gt; [(Witnessable witnessable (ShelleyLedgerEra era),
     AnyWitness (ShelleyLedgerEra era))]
-&gt; Redeemers (ShelleyLedgerEra era)
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#getAnyWitnessRedeemerPointerMap"><span class="hs-identifier hs-var hs-var">getAnyWitnessRedeemerPointerMap</span></a></span></span><span> </span><span id="local-6989586621681158582"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681158582"><span class="hs-identifier hs-var">eon</span></a></span></span><span> </span><span id="local-6989586621681158583"><span class="annot"><span class="annottext">[(Witnessable witnessable (ShelleyLedgerEra era),
  AnyWitness (ShelleyLedgerEra era))]
</span><a href="#local-6989586621681158583"><span class="hs-identifier hs-var">anyWit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)]
-&gt; Redeemers (ShelleyLedgerEra era)
forall era.
AlonzoEraOnwards era
-&gt; [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)]
-&gt; Redeemers (ShelleyLedgerEra era)
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#constructRedeeemerPointerMap"><span class="hs-identifier hs-var">constructRedeeemerPointerMap</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681158582"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">([AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)]
 -&gt; Redeemers (ShelleyLedgerEra era))
-&gt; [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)]
-&gt; Redeemers (ShelleyLedgerEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-182"></span><span>    </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)])
-&gt; [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)]
forall era a.
AlonzoEraOnwards era -&gt; (AlonzoEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#alonzoEraOnwardsConstraints"><span class="hs-identifier hs-var">alonzoEraOnwardsConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681158582"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">((AlonzoEraOnwardsConstraints era =&gt;
  [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)])
 -&gt; [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)])
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)])
-&gt; [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-183"></span><span>      </span><span class="annot"><span class="annottext">[(Witnessable witnessable (ShelleyLedgerEra era),
  AnyWitness (ShelleyLedgerEra era))]
-&gt; [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)]
forall era (witnessable :: WitnessableItem).
AlonzoEraScript era =&gt;
[(Witnessable witnessable era, AnyWitness era)]
-&gt; [AnyIndexedPlutusScriptWitness era]
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#createIndexedPlutusScriptWitnesses"><span class="hs-identifier hs-var">createIndexedPlutusScriptWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">[(Witnessable witnessable (ShelleyLedgerEra era),
  AnyWitness (ShelleyLedgerEra era))]
</span><a href="#local-6989586621681158583"><span class="hs-identifier hs-var">anyWit</span></a></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="hs-comment">-- | An 'IndexedPlutusScriptWitness' contains everything we need to construct a single</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- entry in the redeemer pointer map.</span><span>
</span><span id="line-187"></span><span id="local-6989586621681158271"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#constructRedeemerPointer"><span class="hs-identifier hs-type">constructRedeemerPointer</span></a></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwards"><span class="hs-identifier hs-type">AlonzoEraOnwards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158271"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-189"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#AnyIndexedPlutusScriptWitness"><span class="hs-identifier hs-type">AnyIndexedPlutusScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158271"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.TxWits.html#Redeemers"><span class="hs-identifier hs-type">L.Redeemers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158271"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-191"></span><span id="constructRedeemerPointer"><span class="annot"><span class="annottext">constructRedeemerPointer :: forall era.
AlonzoEraOnwards era
-&gt; AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)
-&gt; Redeemers (ShelleyLedgerEra era)
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#constructRedeemerPointer"><span class="hs-identifier hs-var hs-var">constructRedeemerPointer</span></a></span></span><span> </span><span id="local-6989586621681158592"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681158592"><span class="hs-identifier hs-var">eon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#AnyIndexedPlutusScriptWitness"><span class="hs-identifier hs-type">AnyIndexedPlutusScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#IndexedPlutusScriptWitness"><span class="hs-identifier hs-type">IndexedPlutusScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">Witnessable witnessable (ShelleyLedgerEra era)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681158601"><span class="annot"><span class="annottext">PlutusPurpose AsIx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681158601"><span class="hs-identifier hs-var">purpose</span></a></span></span><span> </span><span id="local-6989586621681158602"><span class="annot"><span class="annottext">PlutusScriptWitness lang purpose (ShelleyLedgerEra era)
</span><a href="#local-6989586621681158602"><span class="hs-identifier hs-var">scriptWit</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.ScriptWitness.html#PlutusScriptWitness"><span class="hs-identifier hs-type">PlutusScriptWitness</span></a></span><span> </span><span class="annot"><span class="annottext">SLanguage lang
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PlutusScriptOrReferenceInput lang (ShelleyLedgerEra era)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PlutusScriptDatum lang purpose
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681158604"><span class="annot"><span class="annottext">ScriptRedeemer
</span><a href="#local-6989586621681158604"><span class="hs-identifier hs-var">redeemer</span></a></span></span><span> </span><span id="local-6989586621681158605"><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621681158605"><span class="hs-identifier hs-var">execUnits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PlutusScriptWitness lang purpose (ShelleyLedgerEra era)
</span><a href="#local-6989586621681158602"><span class="hs-identifier hs-var">scriptWit</span></a></span><span>
</span><span id="line-193"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    Redeemers (ShelleyLedgerEra era))
-&gt; Redeemers (ShelleyLedgerEra era)
forall era a.
AlonzoEraOnwards era -&gt; (AlonzoEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#alonzoEraOnwardsConstraints"><span class="hs-identifier hs-var">alonzoEraOnwardsConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681158592"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">((AlonzoEraOnwardsConstraints era =&gt;
  Redeemers (ShelleyLedgerEra era))
 -&gt; Redeemers (ShelleyLedgerEra era))
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    Redeemers (ShelleyLedgerEra era))
-&gt; Redeemers (ShelleyLedgerEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-194"></span><span>        </span><span class="annot"><span class="annottext">Map
  (PlutusPurpose AsIx (ShelleyLedgerEra era))
  (Data (ShelleyLedgerEra era), ExUnits)
-&gt; Redeemers (ShelleyLedgerEra era)
forall era.
AlonzoEraScript era =&gt;
Map (PlutusPurpose AsIx era) (Data era, ExUnits) -&gt; Redeemers era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.TxWits.html#Redeemers"><span class="hs-identifier hs-var">L.Redeemers</span></a></span><span> </span><span class="annot"><span class="annottext">(Map
   (PlutusPurpose AsIx (ShelleyLedgerEra era))
   (Data (ShelleyLedgerEra era), ExUnits)
 -&gt; Redeemers (ShelleyLedgerEra era))
-&gt; Map
     (PlutusPurpose AsIx (ShelleyLedgerEra era))
     (Data (ShelleyLedgerEra era), ExUnits)
-&gt; Redeemers (ShelleyLedgerEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-195"></span><span>          </span><span class="annot"><span class="annottext">[Item
   (Map
      (PlutusPurpose AsIx (ShelleyLedgerEra era))
      (Data (ShelleyLedgerEra era), ExUnits))]
-&gt; Map
     (PlutusPurpose AsIx (ShelleyLedgerEra era))
     (Data (ShelleyLedgerEra era), ExUnits)
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">PlutusPurpose AsIx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681158601"><span class="hs-identifier hs-var">purpose</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScriptRedeemer -&gt; Data (ShelleyLedgerEra era)
forall ledgerera. Era ledgerera =&gt; ScriptRedeemer -&gt; Data ledgerera
</span><a href="Cardano.Api.Plutus.Internal.ScriptData.html#toAlonzoData"><span class="hs-identifier hs-var">toAlonzoData</span></a></span><span> </span><span class="annot"><span class="annottext">ScriptRedeemer
</span><a href="#local-6989586621681158604"><span class="hs-identifier hs-var">redeemer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExecutionUnits -&gt; ExUnits
</span><a href="Cardano.Api.Plutus.Internal.Script.html#toAlonzoExUnits"><span class="hs-identifier hs-var">toAlonzoExUnits</span></a></span><span> </span><span class="annot"><span class="annottext">ExecutionUnits
</span><a href="#local-6989586621681158605"><span class="hs-identifier hs-var">execUnits</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span id="local-6989586621681158191"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#constructRedeeemerPointerMap"><span class="hs-identifier hs-type">constructRedeeemerPointerMap</span></a></span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwards"><span class="hs-identifier hs-type">AlonzoEraOnwards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158191"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-199"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#AnyIndexedPlutusScriptWitness"><span class="hs-identifier hs-type">AnyIndexedPlutusScriptWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158191"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.TxWits.html#Redeemers"><span class="hs-identifier hs-type">L.Redeemers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158191"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-201"></span><span id="constructRedeeemerPointerMap"><span class="annot"><span class="annottext">constructRedeeemerPointerMap :: forall era.
AlonzoEraOnwards era
-&gt; [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)]
-&gt; Redeemers (ShelleyLedgerEra era)
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#constructRedeeemerPointerMap"><span class="hs-identifier hs-var hs-var">constructRedeeemerPointerMap</span></a></span></span><span> </span><span id="local-6989586621681158613"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681158613"><span class="hs-identifier hs-var">eon</span></a></span></span><span> </span><span id="local-6989586621681158614"><span class="annot"><span class="annottext">[AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)]
</span><a href="#local-6989586621681158614"><span class="hs-identifier hs-var">scriptWits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681158615"><span class="annot"><span class="annottext">redeemerPointers :: [Redeemers (ShelleyLedgerEra era)]
</span><a href="#local-6989586621681158615"><span class="hs-identifier hs-var hs-var">redeemerPointers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)
 -&gt; Redeemers (ShelleyLedgerEra era))
-&gt; [AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)]
-&gt; [Redeemers (ShelleyLedgerEra era)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)
-&gt; Redeemers (ShelleyLedgerEra era)
forall era.
AlonzoEraOnwards era
-&gt; AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)
-&gt; Redeemers (ShelleyLedgerEra era)
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#constructRedeemerPointer"><span class="hs-identifier hs-var">constructRedeemerPointer</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681158613"><span class="hs-identifier hs-var">eon</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[AnyIndexedPlutusScriptWitness (ShelleyLedgerEra era)]
</span><a href="#local-6989586621681158614"><span class="hs-identifier hs-var">scriptWits</span></a></span><span>
</span><span id="line-203"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    Redeemers (ShelleyLedgerEra era))
-&gt; Redeemers (ShelleyLedgerEra era)
forall era a.
AlonzoEraOnwards era -&gt; (AlonzoEraOnwardsConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#alonzoEraOnwardsConstraints"><span class="hs-identifier hs-var">alonzoEraOnwardsConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681158613"><span class="hs-identifier hs-var">eon</span></a></span><span> </span><span class="annot"><span class="annottext">((AlonzoEraOnwardsConstraints era =&gt;
  Redeemers (ShelleyLedgerEra era))
 -&gt; Redeemers (ShelleyLedgerEra era))
-&gt; (AlonzoEraOnwardsConstraints era =&gt;
    Redeemers (ShelleyLedgerEra era))
-&gt; Redeemers (ShelleyLedgerEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Redeemers (ShelleyLedgerEra era)]
-&gt; Redeemers (ShelleyLedgerEra era)
forall a. Monoid a =&gt; [a] -&gt; a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#mconcat"><span class="hs-identifier hs-var">mconcat</span></a></span><span> </span><span class="annot"><span class="annottext">[Redeemers (ShelleyLedgerEra era)]
</span><a href="#local-6989586621681158615"><span class="hs-identifier hs-var">redeemerPointers</span></a></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span id="local-6989586621681158297"><span id="local-6989586621681158298"><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#obtainAlonzoScriptPurposeConstraints"><span class="hs-identifier hs-type">obtainAlonzoScriptPurposeConstraints</span></a></span><span>
</span><span id="line-206"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwards"><span class="hs-identifier hs-type">AlonzoEraOnwards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158297"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-207"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#GetPlutusScriptPurpose"><span class="hs-identifier hs-type">GetPlutusScriptPurpose</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158297"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Scripts.html#AlonzoEraScript"><span class="hs-identifier hs-type">L.AlonzoEraScript</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyLedgerEra"><span class="hs-identifier hs-type">ShelleyLedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681158297"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681158298"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681158298"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-209"></span><span id="obtainAlonzoScriptPurposeConstraints"><span class="annot"><span class="annottext">obtainAlonzoScriptPurposeConstraints :: forall era a.
AlonzoEraOnwards era
-&gt; ((GetPlutusScriptPurpose era,
     AlonzoEraScript (ShelleyLedgerEra era)) =&gt;
    a)
-&gt; a
</span><a href="Cardano.Api.Experimental.Plutus.Internal.IndexedPlutusScriptWitness.html#obtainAlonzoScriptPurposeConstraints"><span class="hs-identifier hs-var hs-var">obtainAlonzoScriptPurposeConstraints</span></a></span></span><span> </span><span id="local-6989586621681158622"><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681158622"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-210"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681158622"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-211"></span><span>    </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwardsAlonzo"><span class="hs-identifier hs-var">AlonzoEraOnwardsAlonzo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
((GetPlutusScriptPurpose era,
  AlonzoEraScript (ShelleyLedgerEra era)) =&gt;
 a)
-&gt; a
forall a. a -&gt; a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwardsBabbage"><span class="hs-identifier hs-var">AlonzoEraOnwardsBabbage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
((GetPlutusScriptPurpose era,
  AlonzoEraScript (ShelleyLedgerEra era)) =&gt;
 a)
-&gt; a
forall a. a -&gt; a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-213"></span><span>    </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="Cardano.Api.Era.Internal.Eon.AlonzoEraOnwards.html#AlonzoEraOnwardsConway"><span class="hs-identifier hs-var">AlonzoEraOnwardsConway</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
((GetPlutusScriptPurpose era,
  AlonzoEraScript (ShelleyLedgerEra era)) =&gt;
 a)
-&gt; a
forall a. a -&gt; a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-214"></span></pre></body></html>