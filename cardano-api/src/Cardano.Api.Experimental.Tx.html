<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Cardano.Api.Experimental.Tx</span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Creating transactions using the new API</span></span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-comment">-- |</span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-comment">-- Both the old and new APIs can be used to create transactions, and</span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-comment">-- it is possible to transform a transaction from one format to the other</span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-comment">-- as they share the same representation. However, the focus will shift</span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-comment">-- towards using the new API, while the old API will be deprecated to ensure</span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-comment">-- simplicity, closer alignment with the ledger, and easier maintenance.</span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-comment">-- In both the new and old APIs, constructing a transaction requires creating</span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-comment">-- a 'TxBodyContent', along with at least one witness (for example, a</span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-comment">-- 'ShelleyWitnessSigningKey') to sign the transaction.</span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-comment">-- This process remains unchanged.</span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-27"></span><span>    </span><span class="hs-comment">-- To learn how to create a transaction using the old API, see the</span><span>
</span><span id="line-28"></span><span>    </span><span class="hs-comment">-- &quot;Cardano.Api.Tx.Internal.Body&quot; documentation.</span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-comment">-- In the examples below, the following qualified modules are used:</span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-comment">-- import qualified Cardano.Api as Api                -- the general `cardano-api` exports (including the old API)</span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-comment">-- import qualified Cardano.Api.Script as Script      -- types related to scripts (Plutus and native)</span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-comment">-- import qualified Cardano.Api.Ledger as Ledger      -- cardano-ledger re-exports</span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-comment">-- import qualified Cardano.Api.Experimental as Exp   -- the experimental API</span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-comment">-- For instructions on how to do this, refer to the @Test.Cardano.Api.Experimental@ documentation.</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Creating a 'TxBodyContent'</span></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-comment">-- |</span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-comment">-- Regardless of whether the experimental or the traditional API is used, creating a 'TxBodyContent'</span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-comment">-- is necessary.</span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-comment">-- You can see how to do this in the documentation of the &quot;Cardano.Api.Tx.Internal.Body&quot; module.</span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Balancing a transaction</span></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-comment">-- |</span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-comment">-- If a UTXO has exactly 12 ada, the transaction could be constructed as described in</span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-comment">-- &quot;Cardano.Api.Tx.Internal.Body&quot;, and it would be valid. However:</span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-comment">--   * Ada may be wasted</span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-comment">--   * The UTXO that we intend to spend may not contain exactly 12 ada</span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-comment">--   * The transaction may not be this simple.</span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-comment">-- For these reasons, it is recommended to balance the transaction before proceeding with</span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-comment">-- signing and submitting.</span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-comment">-- For instructions on how to balance a transaction, refer to the &quot;Cardano.Api.Tx.Internal.Fee&quot; documentation.</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Creating a 'ShelleyWitnessSigningKey'</span></span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-comment">-- |</span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-comment">-- Signing a transaction requires a witness, such as a 'ShelleyWitnessSigningKey'.</span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-comment">-- For instructions on creating a 'ShelleyWitnessSigningKey' refer to the &quot;Cardano.Api.Tx.Internal.Sign&quot; documentation.</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Creating a transaction using the new API</span></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-comment">-- |</span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-comment">-- This section outlines how to create a transaction using the new API. First,</span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-comment">-- create an 'UnsignedTx' using the 'makeUnsignedTx' function and the 'Era' and</span><span>
</span><span id="line-76"></span><span>    </span><span class="hs-comment">-- 'TxBodyContent' that we defined earlier:</span><span>
</span><span id="line-77"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-comment">-- let (Right unsignedTx) = Exp.makeUnsignedTx era txBodyContent</span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-comment">-- Next, use the key witness to sign the unsigned transaction with the 'makeKeyWitness' function:</span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-comment">-- let transactionWitness = Exp.makeKeyWitness era unsignedTx (Api.WitnessPaymentKey signingKey)</span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-88"></span><span>    </span><span class="hs-comment">-- Finally, sign the transaction using the 'signTx' function:</span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-comment">-- let newApiSignedTx :: Ledger.Tx (Exp.LedgerEra Exp.ConwayEra) = Exp.signTx era [] [transactionWitness] unsignedTx</span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-94"></span><span>    </span><span class="hs-comment">-- The empty list represents the bootstrap witnesses, which are not needed in this case.</span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-comment">-- The transaction is now signed.</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Converting a transaction from the new API to the old API</span></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-comment">-- |</span><span>
</span><span id="line-101"></span><span>    </span><span class="hs-comment">-- A transaction created with the new API can be easily converted to the old API by</span><span>
</span><span id="line-102"></span><span>    </span><span class="hs-comment">-- wrapping it with the 'ShelleyTx' constructor:</span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-104"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-comment">-- let oldStyleTx :: Api.Tx Api.ConwayEra = ShelleyTx sbe newApiSignedTx</span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-comment">-- @</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Inspecting transactions</span></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span>    </span><span class="hs-comment">-- |</span><span>
</span><span id="line-111"></span><span>    </span><span class="hs-comment">-- When using a 'Tx' created with the experimental API, the 'TxBody' and</span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-comment">-- 'TxWits' can be extracted using the 'txBody' and 'txWits' lenses from</span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-comment">-- &quot;Cardano.Api.Ledger&quot; respectively.</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Contents</span></span><span>
</span><span id="line-116"></span><span>    </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier">UnsignedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTxError"><span class="hs-identifier">UnsignedTxError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#makeUnsignedTx"><span class="hs-identifier">makeUnsignedTx</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#makeKeyWitness"><span class="hs-identifier">makeKeyWitness</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#signTx"><span class="hs-identifier">signTx</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#convertTxBodyToUnsignedTx"><span class="hs-identifier">convertTxBodyToUnsignedTx</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#hashTxBody"><span class="hs-identifier">hashTxBody</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Witness</span></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Any witness (key, simple script, plutus script).</span></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#AnyWitness"><span class="hs-identifier">AnyWitness</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#getAnyWitnessScript"><span class="hs-identifier">getAnyWitnessScript</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#getAnyWitnessPlutusLanguage"><span class="hs-identifier">getAnyWitnessPlutusLanguage</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.AnyWitness.html#getAnyWitnessScriptData"><span class="hs-identifier">getAnyWitnessScriptData</span></a></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** All the parts that constitute a plutus script witness but also including simple scripts</span></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.TxScriptWitnessRequirements.html#TxScriptWitnessRequirements"><span class="hs-identifier">TxScriptWitnessRequirements</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Collecting plutus script witness related transaction requirements.</span></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.TxScriptWitnessRequirements.html#getTxScriptWitnessesRequirements"><span class="hs-identifier">getTxScriptWitnessesRequirements</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.TxScriptWitnessRequirements.html#obtainMonoidConstraint"><span class="hs-identifier">obtainMonoidConstraint</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Internal functions</span></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.TxScriptWitnessRequirements.html#extractExecutionUnits"><span class="hs-identifier">extractExecutionUnits</span></a></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.TxScriptWitnessRequirements.html#getTxScriptWitnessRequirements"><span class="hs-identifier">getTxScriptWitnessRequirements</span></a></span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Core.html"><span class="hs-identifier">Cardano.Api.Era.Internal.Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Core.html#ToCardanoEra"><span class="hs-identifier">ToCardanoEra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier">toCardanoEra</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Core.html#forEraInEon"><span class="hs-identifier">forEraInEon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.Convert.html"><span class="hs-identifier">Cardano.Api.Era.Internal.Eon.Convert</span></a></span><span>
</span><span id="line-147"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html"><span class="hs-identifier">Cardano.Api.Era.Internal.Eon.ShelleyBasedEra</span></a></span><span>
</span><span id="line-148"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Feature.html"><span class="hs-identifier">Cardano.Api.Era.Internal.Feature</span></a></span><span>
</span><span id="line-149"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Era.html"><span class="hs-identifier">Cardano.Api.Experimental.Era</span></a></span><span>
</span><span id="line-150"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.AnyWitness.html"><span class="hs-identifier">Cardano.Api.Experimental.Tx.Internal.AnyWitness</span></a></span><span>
</span><span id="line-151"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.TxScriptWitnessRequirements.html"><span class="hs-identifier">Cardano.Api.Experimental.Tx.Internal.TxScriptWitnessRequirements</span></a></span><span>
</span><span id="line-152"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Ledger.Internal.Reexport.html"><span class="hs-identifier">Cardano.Api.Ledger.Internal.Reexport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-strict-containers-0.1.4.0-bdea76c3603d1725ad7e313264374bc100b3d55d2fcd9adab2f04ae342b6f256/share/doc/html/src/Data.Maybe.Strict.html#StrictMaybe"><span class="hs-identifier">StrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-strict-containers-0.1.4.0-bdea76c3603d1725ad7e313264374bc100b3d55d2fcd9adab2f04ae342b6f256/share/doc/html/src/Data.Maybe.Strict.html#maybeToStrictMaybe"><span class="hs-identifier">maybeToStrictMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Ledger.Internal.Reexport.html"><span class="hs-identifier">Cardano.Api.Ledger.Internal.Reexport</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-154"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Pretty.html"><span class="hs-identifier">Cardano.Api.Pretty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Pretty.html#docToString"><span class="hs-identifier">docToString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pretty</span></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Body.html"><span class="hs-identifier">Cardano.Api.Tx.Internal.Body</span></a></span><span>
</span><span id="line-156"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Sign.html"><span class="hs-identifier">Cardano.Api.Tx.Internal.Sign</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-crypto-class-2.2.2.0-61aab910ecd8f6d7cb4b62fec3fb543649386204c7c5998609c4848b9a61e05f/share/doc/html/src/Cardano.Crypto.Hash.html"><span class="hs-identifier">Cardano.Crypto.Hash</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Hash</span></span><span>
</span><span id="line-159"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.TxBody.html"><span class="hs-identifier">Cardano.Ledger.Alonzo.TxBody</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-160"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-api-1.11.0.0-2bccda52a336038288c75deda6c562f463cb8e4b43f7e023557bf7a371da9262/share/doc/html/src/Cardano.Ledger.Api.html"><span class="hs-identifier">Cardano.Ledger.Api</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-161"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.html"><span class="hs-identifier">Cardano.Ledger.Conway</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ledger</span></span><span>
</span><span id="line-162"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.TxBody.html"><span class="hs-identifier">Cardano.Ledger.Conway.TxBody</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-163"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html"><span class="hs-identifier">Cardano.Ledger.Core</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Ledger</span></span><span>
</span><span id="line-164"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Hashes.html"><span class="hs-identifier">Cardano.Ledger.Hashes</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-crypto-class-2.2.2.0-61aab910ecd8f6d7cb4b62fec3fb543649386204c7c5998609c4848b9a61e05f/share/doc/html/src/Cardano.Crypto.Hash.Class.html#Hash"><span class="hs-identifier">Hash</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/containers-0.6.8-inplace/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-167"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Exts.html"><span class="hs-identifier">GHC.Exts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.IsList.html#IsList"><span class="hs-identifier">IsList</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Stack.html"><span class="hs-identifier">GHC.Stack</span></a></span><span>
</span><span id="line-169"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Lens.Micro</span></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-comment">-- | A transaction that can contain everything</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- except key witnesses.</span><span>
</span><span id="line-173"></span><span class="hs-keyword">newtype</span><span> </span><span id="UnsignedTx"><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-var">UnsignedTx</span></a></span></span><span> </span><span id="local-6989586621681175799"><span class="annot"><a href="#local-6989586621681175799"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="UnsignedTx"><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-var">UnsignedTx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#Tx"><span class="hs-identifier hs-type">Ledger.Tx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175799"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681175580"><span id="local-6989586621681175922"><span id="local-6989586621681175926"><span class="annot"><a href="Cardano.Api.Experimental.Era.html#IsEra"><span class="hs-identifier hs-type">IsEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175580"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-type">UnsignedTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175580"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>  </span><span id="local-6989586621681175930"><span class="annot"><span class="annottext">showsPrec :: Int -&gt; UnsignedTx era -&gt; ShowS
</span><a href="#local-6989586621681175930"><span class="hs-identifier hs-var hs-var hs-var hs-var">showsPrec</span></a></span></span><span> </span><span id="local-6989586621681175932"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681175932"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-type">UnsignedTx</span></a></span><span> </span><span id="local-6989586621681175933"><span class="annot"><span class="annottext">Tx (LedgerEra era)
</span><a href="#local-6989586621681175933"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall era. IsEra era =&gt; Era era
</span><a href="Cardano.Api.Experimental.Era.html#useEra"><span class="hs-identifier hs-var">useEra</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681175580"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-178"></span><span>    </span><span class="annot"><span class="annottext">Era era
</span><a href="Cardano.Api.Experimental.Era.html#ConwayEra"><span class="hs-identifier hs-var">ConwayEra</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; AlonzoTx ConwayEra -&gt; ShowS
forall a. Show a =&gt; Int -&gt; a -&gt; ShowS
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Show.html#showsPrec"><span class="hs-identifier hs-var">showsPrec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681175932"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Tx ConwayEra
Tx (LedgerEra era)
</span><a href="#local-6989586621681175933"><span class="hs-identifier hs-var">tx</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#Tx"><span class="hs-identifier hs-type">Ledger.Tx</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.Era.html#ConwayEra"><span class="hs-identifier hs-type">Ledger.ConwayEra</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-keyword">newtype</span><span> </span><span id="UnsignedTxError"><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTxError"><span class="hs-identifier hs-var">UnsignedTxError</span></a></span></span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="UnsignedTxError"><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTxError"><span class="hs-identifier hs-var">UnsignedTxError</span></a></span></span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Body.html#TxBodyError"><span class="hs-identifier hs-type">TxBodyError</span></a></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span id="local-6989586621681175616"><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#makeUnsignedTx"><span class="hs-identifier hs-type">makeUnsignedTx</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175616"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Body.html#TxBodyContent"><span class="hs-identifier hs-type">TxBodyContent</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTx"><span class="hs-identifier hs-type">BuildTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175616"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Body.html#TxBodyError"><span class="hs-identifier hs-type">TxBodyError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-type">UnsignedTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175616"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-187"></span><span id="makeUnsignedTx"><span class="annot"><span class="annottext">makeUnsignedTx :: forall era.
Era era
-&gt; TxBodyContent BuildTx era -&gt; Either TxBodyError (UnsignedTx era)
</span><a href="Cardano.Api.Experimental.Tx.html#makeUnsignedTx"><span class="hs-identifier hs-var hs-var">makeUnsignedTx</span></a></span></span><span> </span><span id="local-6989586621681175970"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681175970"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621681175971"><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt;
    Either TxBodyError (UnsignedTx era))
-&gt; Either TxBodyError (UnsignedTx era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681175970"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; Either TxBodyError (UnsignedTx era))
 -&gt; Either TxBodyError (UnsignedTx era))
-&gt; (EraCommonConstraints era =&gt;
    Either TxBodyError (UnsignedTx era))
-&gt; Either TxBodyError (UnsignedTx era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681176063"><span class="annot"><span class="annottext">sbe :: ShelleyBasedEra era
</span><a href="#local-6989586621681176063"><span class="hs-identifier hs-var hs-var">sbe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; ShelleyBasedEra era
forall era. Era era -&gt; ShelleyBasedEra era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681175970"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-189"></span><span>      </span><span id="local-6989586621681176065"><span class="annot"><span class="annottext">aeon :: AlonzoEraOnwards era
</span><a href="#local-6989586621681176065"><span class="hs-identifier hs-var hs-var">aeon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era -&gt; AlonzoEraOnwards era
forall era. Era era -&gt; AlonzoEraOnwards era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681175970"><span class="hs-identifier hs-var">era</span></a></span><span>
</span><span id="line-190"></span><span>  </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.Internal.TxScriptWitnessRequirements.html#TxScriptWitnessRequirements"><span class="hs-identifier hs-type">TxScriptWitnessRequirements</span></a></span><span> </span><span id="local-6989586621681176067"><span class="annot"><span class="annottext">Set Language
</span><a href="#local-6989586621681176067"><span class="hs-identifier hs-var">languages</span></a></span></span><span> </span><span id="local-6989586621681176068"><span class="annot"><span class="annottext">[Script (LedgerEra era)]
</span><a href="#local-6989586621681176068"><span class="hs-identifier hs-var">scripts</span></a></span></span><span> </span><span id="local-6989586621681176069"><span class="annot"><span class="annottext">TxDats (LedgerEra era)
</span><a href="#local-6989586621681176069"><span class="hs-identifier hs-var">datums</span></a></span></span><span> </span><span id="local-6989586621681176070"><span class="annot"><span class="annottext">Redeemers (LedgerEra era)
</span><a href="#local-6989586621681176070"><span class="hs-identifier hs-var">redeemers</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-191"></span><span>    </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; (ShelleyBasedEraConstraints era =&gt;
    Either TxBodyError (TxScriptWitnessRequirements (LedgerEra era)))
-&gt; Either TxBodyError (TxScriptWitnessRequirements (LedgerEra era))
forall era a.
ShelleyBasedEra era -&gt; (ShelleyBasedEraConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#shelleyBasedEraConstraints"><span class="hs-identifier hs-var">shelleyBasedEraConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681176063"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">((ShelleyBasedEraConstraints era =&gt;
  Either TxBodyError (TxScriptWitnessRequirements (LedgerEra era)))
 -&gt; Either
      TxBodyError (TxScriptWitnessRequirements (LedgerEra era)))
-&gt; (ShelleyBasedEraConstraints era =&gt;
    Either TxBodyError (TxScriptWitnessRequirements (LedgerEra era)))
-&gt; Either TxBodyError (TxScriptWitnessRequirements (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-192"></span><span>      </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; TxBodyContent BuildTx era
-&gt; Either
     TxBodyError (TxScriptWitnessRequirements (ShelleyLedgerEra era))
forall era.
IsShelleyBasedEra era =&gt;
AlonzoEraOnwards era
-&gt; TxBodyContent BuildTx era
-&gt; Either
     TxBodyError (TxScriptWitnessRequirements (ShelleyLedgerEra era))
</span><a href="Cardano.Api.Tx.Internal.Body.html#collectTxBodyScriptWitnessRequirements"><span class="hs-identifier hs-var">collectTxBodyScriptWitnessRequirements</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Era era -&gt; AlonzoEraOnwards era
forall era. Era era -&gt; AlonzoEraOnwards era
forall a (f :: a -&gt; *) (g :: a -&gt; *) (era :: a).
Convert f g =&gt;
f era -&gt; g era
</span><a href="Cardano.Api.Era.Internal.Eon.Convert.html#convert"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681175970"><span class="hs-identifier hs-var">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-comment">-- cardano-api types</span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681176076"><span class="annot"><span class="annottext">apiTxOuts :: [TxOut CtxTx era]
</span><a href="#local-6989586621681176076"><span class="hs-identifier hs-var hs-var">apiTxOuts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; [TxOut CtxTx era]
forall build era. TxBodyContent build era -&gt; [TxOut CtxTx era]
</span><a href="Cardano.Api.Tx.Internal.Body.html#txOuts"><span class="hs-identifier hs-var">txOuts</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-196"></span><span>      </span><span id="local-6989586621681176078"><span class="annot"><span class="annottext">apiScriptValidity :: TxScriptValidity era
</span><a href="#local-6989586621681176078"><span class="hs-identifier hs-var hs-var">apiScriptValidity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxScriptValidity era
forall build era. TxBodyContent build era -&gt; TxScriptValidity era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txScriptValidity"><span class="hs-identifier hs-var">txScriptValidity</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-197"></span><span>      </span><span id="local-6989586621681176080"><span class="annot"><span class="annottext">apiMintValue :: TxMintValue BuildTx era
</span><a href="#local-6989586621681176080"><span class="hs-identifier hs-var hs-var">apiMintValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxMintValue BuildTx era
forall build era. TxBodyContent build era -&gt; TxMintValue build era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txMintValue"><span class="hs-identifier hs-var">txMintValue</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span id="local-6989586621681176082"><span class="annot"><span class="annottext">apiProtocolParameters :: BuildTxWith BuildTx (Maybe (LedgerProtocolParameters era))
</span><a href="#local-6989586621681176082"><span class="hs-identifier hs-var hs-var">apiProtocolParameters</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; BuildTxWith BuildTx (Maybe (LedgerProtocolParameters era))
forall build era.
TxBodyContent build era
-&gt; BuildTxWith build (Maybe (LedgerProtocolParameters era))
</span><a href="Cardano.Api.Tx.Internal.Body.html#txProtocolParams"><span class="hs-identifier hs-var">txProtocolParams</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-199"></span><span>      </span><span id="local-6989586621681176084"><span class="annot"><span class="annottext">apiCollateralTxIns :: TxInsCollateral era
</span><a href="#local-6989586621681176084"><span class="hs-identifier hs-var hs-var">apiCollateralTxIns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxInsCollateral era
forall build era. TxBodyContent build era -&gt; TxInsCollateral era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txInsCollateral"><span class="hs-identifier hs-var">txInsCollateral</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-200"></span><span>      </span><span id="local-6989586621681176086"><span class="annot"><span class="annottext">apiReferenceInputs :: TxInsReference BuildTx era
</span><a href="#local-6989586621681176086"><span class="hs-identifier hs-var hs-var">apiReferenceInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxInsReference BuildTx era
forall build era.
TxBodyContent build era -&gt; TxInsReference build era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txInsReference"><span class="hs-identifier hs-var">txInsReference</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-201"></span><span>      </span><span id="local-6989586621681176088"><span class="annot"><span class="annottext">apiExtraKeyWitnesses :: TxExtraKeyWitnesses era
</span><a href="#local-6989586621681176088"><span class="hs-identifier hs-var hs-var">apiExtraKeyWitnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxExtraKeyWitnesses era
forall build era.
TxBodyContent build era -&gt; TxExtraKeyWitnesses era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txExtraKeyWits"><span class="hs-identifier hs-var">txExtraKeyWits</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-202"></span><span>      </span><span id="local-6989586621681176090"><span class="annot"><span class="annottext">apiReturnCollateral :: TxReturnCollateral CtxTx era
</span><a href="#local-6989586621681176090"><span class="hs-identifier hs-var hs-var">apiReturnCollateral</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxReturnCollateral CtxTx era
forall build era.
TxBodyContent build era -&gt; TxReturnCollateral CtxTx era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txReturnCollateral"><span class="hs-identifier hs-var">txReturnCollateral</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-203"></span><span>      </span><span id="local-6989586621681176092"><span class="annot"><span class="annottext">apiTotalCollateral :: TxTotalCollateral era
</span><a href="#local-6989586621681176092"><span class="hs-identifier hs-var hs-var">apiTotalCollateral</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxTotalCollateral era
forall build era. TxBodyContent build era -&gt; TxTotalCollateral era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txTotalCollateral"><span class="hs-identifier hs-var">txTotalCollateral</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span>      </span><span class="hs-comment">-- Ledger types</span><span>
</span><span id="line-206"></span><span>      </span><span id="local-6989586621681176094"><span class="annot"><span class="annottext">txins :: Set TxIn
</span><a href="#local-6989586621681176094"><span class="hs-identifier hs-var hs-var">txins</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxIns BuildTx era -&gt; Set TxIn
forall era. TxIns BuildTx era -&gt; Set TxIn
</span><a href="Cardano.Api.Tx.Internal.Body.html#convTxIns"><span class="hs-identifier hs-var">convTxIns</span></a></span><span> </span><span class="annot"><span class="annottext">(TxIns BuildTx era -&gt; Set TxIn) -&gt; TxIns BuildTx era -&gt; Set TxIn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxIns BuildTx era
forall build era. TxBodyContent build era -&gt; TxIns build era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txIns"><span class="hs-identifier hs-var">txIns</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-207"></span><span>      </span><span id="local-6989586621681176097"><span class="annot"><span class="annottext">collTxIns :: Set TxIn
</span><a href="#local-6989586621681176097"><span class="hs-identifier hs-var hs-var">collTxIns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxInsCollateral era -&gt; Set TxIn
forall era. TxInsCollateral era -&gt; Set TxIn
</span><a href="Cardano.Api.Tx.Internal.Body.html#convCollateralTxIns"><span class="hs-identifier hs-var">convCollateralTxIns</span></a></span><span> </span><span class="annot"><span class="annottext">TxInsCollateral era
</span><a href="#local-6989586621681176084"><span class="hs-identifier hs-var">apiCollateralTxIns</span></a></span><span>
</span><span id="line-208"></span><span>      </span><span id="local-6989586621681176099"><span class="annot"><span class="annottext">refTxIns :: Set TxIn
</span><a href="#local-6989586621681176099"><span class="hs-identifier hs-var hs-var">refTxIns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxInsReference BuildTx era -&gt; Set TxIn
forall build era. TxInsReference build era -&gt; Set TxIn
</span><a href="Cardano.Api.Tx.Internal.Body.html#convReferenceInputs"><span class="hs-identifier hs-var">convReferenceInputs</span></a></span><span> </span><span class="annot"><span class="annottext">TxInsReference BuildTx era
</span><a href="#local-6989586621681176086"><span class="hs-identifier hs-var">apiReferenceInputs</span></a></span><span>
</span><span id="line-209"></span><span>      </span><span id="local-6989586621681176101"><span class="annot"><span class="annottext">outs :: StrictSeq (TxOut (LedgerEra era))
</span><a href="#local-6989586621681176101"><span class="hs-identifier hs-var hs-var">outs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; [TxOut CtxTx era] -&gt; StrictSeq (TxOut (LedgerEra era))
forall ctx era ledgerera.
(HasCallStack, ShelleyLedgerEra era ~ ledgerera) =&gt;
ShelleyBasedEra era
-&gt; [TxOut ctx era] -&gt; StrictSeq (TxOut ledgerera)
</span><a href="Cardano.Api.Tx.Internal.Output.html#convTxOuts"><span class="hs-identifier hs-var">convTxOuts</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681176063"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">[TxOut CtxTx era]
</span><a href="#local-6989586621681176076"><span class="hs-identifier hs-var">apiTxOuts</span></a></span><span>
</span><span id="line-210"></span><span>      </span><span id="local-6989586621681176103"><span class="annot"><span class="annottext">fee :: Coin
</span><a href="#local-6989586621681176103"><span class="hs-identifier hs-var hs-var">fee</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; TxFee era -&gt; Coin
forall era. ShelleyBasedEra era -&gt; TxFee era -&gt; Coin
</span><a href="Cardano.Api.Tx.Internal.Body.html#convTransactionFee"><span class="hs-identifier hs-var">convTransactionFee</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681176063"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">(TxFee era -&gt; Coin) -&gt; TxFee era -&gt; Coin
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxFee era
forall build era. TxBodyContent build era -&gt; TxFee era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txFee"><span class="hs-identifier hs-var">txFee</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-211"></span><span>      </span><span id="local-6989586621681176106"><span class="annot"><span class="annottext">withdrawals :: Withdrawals
</span><a href="#local-6989586621681176106"><span class="hs-identifier hs-var hs-var">withdrawals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxWithdrawals BuildTx era -&gt; Withdrawals
forall build era. TxWithdrawals build era -&gt; Withdrawals
</span><a href="Cardano.Api.Tx.Internal.Body.html#convWithdrawals"><span class="hs-identifier hs-var">convWithdrawals</span></a></span><span> </span><span class="annot"><span class="annottext">(TxWithdrawals BuildTx era -&gt; Withdrawals)
-&gt; TxWithdrawals BuildTx era -&gt; Withdrawals
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxWithdrawals BuildTx era
forall build era.
TxBodyContent build era -&gt; TxWithdrawals build era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txWithdrawals"><span class="hs-identifier hs-var">txWithdrawals</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-212"></span><span>      </span><span id="local-6989586621681176109"><span class="annot"><span class="annottext">returnCollateral :: StrictMaybe (TxOut (ShelleyLedgerEra era))
</span><a href="#local-6989586621681176109"><span class="hs-identifier hs-var hs-var">returnCollateral</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxReturnCollateral CtxTx era
-&gt; StrictMaybe (TxOut (ShelleyLedgerEra era))
forall era ctx.
ShelleyBasedEra era
-&gt; TxReturnCollateral ctx era
-&gt; StrictMaybe (TxOut (ShelleyLedgerEra era))
</span><a href="Cardano.Api.Tx.Internal.Body.html#convReturnCollateral"><span class="hs-identifier hs-var">convReturnCollateral</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681176063"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">TxReturnCollateral CtxTx era
</span><a href="#local-6989586621681176090"><span class="hs-identifier hs-var">apiReturnCollateral</span></a></span><span>
</span><span id="line-213"></span><span>      </span><span id="local-6989586621681176111"><span class="annot"><span class="annottext">totalCollateral :: StrictMaybe Coin
</span><a href="#local-6989586621681176111"><span class="hs-identifier hs-var hs-var">totalCollateral</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxTotalCollateral era -&gt; StrictMaybe Coin
forall era. TxTotalCollateral era -&gt; StrictMaybe Coin
</span><a href="Cardano.Api.Tx.Internal.Body.html#convTotalCollateral"><span class="hs-identifier hs-var">convTotalCollateral</span></a></span><span> </span><span class="annot"><span class="annottext">TxTotalCollateral era
</span><a href="#local-6989586621681176092"><span class="hs-identifier hs-var">apiTotalCollateral</span></a></span><span>
</span><span id="line-214"></span><span>      </span><span id="local-6989586621681176113"><span class="annot"><span class="annottext">certs :: StrictSeq (TxCert (ShelleyLedgerEra era))
</span><a href="#local-6989586621681176113"><span class="hs-identifier hs-var hs-var">certs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxCertificates BuildTx era
-&gt; StrictSeq (TxCert (ShelleyLedgerEra era))
forall era build.
ShelleyBasedEra era
-&gt; TxCertificates build era
-&gt; StrictSeq (TxCert (ShelleyLedgerEra era))
</span><a href="Cardano.Api.Tx.Internal.Body.html#convCertificates"><span class="hs-identifier hs-var">convCertificates</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681176063"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="annot"><span class="annottext">(TxCertificates BuildTx era
 -&gt; StrictSeq (TxCert (ShelleyLedgerEra era)))
-&gt; TxCertificates BuildTx era
-&gt; StrictSeq (TxCert (ShelleyLedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxCertificates BuildTx era
forall build era.
TxBodyContent build era -&gt; TxCertificates build era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txCertificates"><span class="hs-identifier hs-var">txCertificates</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-215"></span><span>      </span><span id="local-6989586621681176116"><span class="annot"><span class="annottext">txAuxData :: Maybe (TxAuxData (ShelleyLedgerEra era))
</span><a href="#local-6989586621681176116"><span class="hs-identifier hs-var hs-var">txAuxData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxMetadataInEra era
-&gt; TxAuxScripts era
-&gt; Maybe (TxAuxData (ShelleyLedgerEra era))
forall era.
ShelleyBasedEra era
-&gt; TxMetadataInEra era
-&gt; TxAuxScripts era
-&gt; Maybe (TxAuxData (ShelleyLedgerEra era))
</span><a href="Cardano.Api.Tx.Internal.Body.html#toAuxiliaryData"><span class="hs-identifier hs-var">toAuxiliaryData</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681176063"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxMetadataInEra era
forall build era. TxBodyContent build era -&gt; TxMetadataInEra era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txMetadata"><span class="hs-identifier hs-var">txMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxAuxScripts era
forall build era. TxBodyContent build era -&gt; TxAuxScripts era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txAuxScripts"><span class="hs-identifier hs-var">txAuxScripts</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>      </span><span id="local-6989586621681176120"><span class="annot"><span class="annottext">scriptIntegrityHash :: StrictMaybe ScriptIntegrityHash
</span><a href="#local-6989586621681176120"><span class="hs-identifier hs-var hs-var">scriptIntegrityHash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-217"></span><span>        </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
-&gt; BuildTxWith BuildTx (Maybe (LedgerProtocolParameters era))
-&gt; Redeemers (ShelleyLedgerEra era)
-&gt; TxDats (ShelleyLedgerEra era)
-&gt; Set Language
-&gt; StrictMaybe ScriptIntegrityHash
forall era.
AlonzoEraOnwards era
-&gt; BuildTxWith BuildTx (Maybe (LedgerProtocolParameters era))
-&gt; Redeemers (ShelleyLedgerEra era)
-&gt; TxDats (ShelleyLedgerEra era)
-&gt; Set Language
-&gt; StrictMaybe ScriptIntegrityHash
</span><a href="Cardano.Api.Tx.Internal.Body.html#convPParamsToScriptIntegrityHash"><span class="hs-identifier hs-var">convPParamsToScriptIntegrityHash</span></a></span><span>
</span><span id="line-218"></span><span>          </span><span class="annot"><span class="annottext">AlonzoEraOnwards era
</span><a href="#local-6989586621681176065"><span class="hs-identifier hs-var">aeon</span></a></span><span>
</span><span id="line-219"></span><span>          </span><span class="annot"><span class="annottext">BuildTxWith BuildTx (Maybe (LedgerProtocolParameters era))
</span><a href="#local-6989586621681176082"><span class="hs-identifier hs-var">apiProtocolParameters</span></a></span><span>
</span><span id="line-220"></span><span>          </span><span class="annot"><span class="annottext">Redeemers (ShelleyLedgerEra era)
Redeemers (LedgerEra era)
</span><a href="#local-6989586621681176070"><span class="hs-identifier hs-var">redeemers</span></a></span><span>
</span><span id="line-221"></span><span>          </span><span class="annot"><span class="annottext">TxDats (ShelleyLedgerEra era)
TxDats (LedgerEra era)
</span><a href="#local-6989586621681176069"><span class="hs-identifier hs-var">datums</span></a></span><span>
</span><span id="line-222"></span><span>          </span><span class="annot"><span class="annottext">Set Language
</span><a href="#local-6989586621681176067"><span class="hs-identifier hs-var">languages</span></a></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681176122"><span class="annot"><span class="annottext">setMint :: MultiAsset
</span><a href="#local-6989586621681176122"><span class="hs-identifier hs-var hs-var">setMint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxMintValue BuildTx era -&gt; MultiAsset
forall build era. TxMintValue build era -&gt; MultiAsset
</span><a href="Cardano.Api.Tx.Internal.Body.html#convMintValue"><span class="hs-identifier hs-var">convMintValue</span></a></span><span> </span><span class="annot"><span class="annottext">TxMintValue BuildTx era
</span><a href="#local-6989586621681176080"><span class="hs-identifier hs-var">apiMintValue</span></a></span><span>
</span><span id="line-225"></span><span>      </span><span id="local-6989586621681176124"><span class="annot"><span class="annottext">setReqSignerHashes :: Set (KeyHash 'Witness)
</span><a href="#local-6989586621681176124"><span class="hs-identifier hs-var hs-var">setReqSignerHashes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxExtraKeyWitnesses era -&gt; Set (KeyHash 'Witness)
forall era. TxExtraKeyWitnesses era -&gt; Set (KeyHash 'Witness)
</span><a href="Cardano.Api.Tx.Internal.Body.html#convExtraKeyWitnesses"><span class="hs-identifier hs-var">convExtraKeyWitnesses</span></a></span><span> </span><span class="annot"><span class="annottext">TxExtraKeyWitnesses era
</span><a href="#local-6989586621681176088"><span class="hs-identifier hs-var">apiExtraKeyWitnesses</span></a></span><span>
</span><span id="line-226"></span><span>      </span><span id="local-6989586621681176126"><span class="annot"><span class="annottext">ledgerTxBody :: TxBody (LedgerEra era)
</span><a href="#local-6989586621681176126"><span class="hs-identifier hs-var hs-var">ledgerTxBody</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-227"></span><span>        </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
forall era. EraTxBody era =&gt; TxBody era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#mkBasicTxBody"><span class="hs-identifier hs-var">L.mkBasicTxBody</span></a></span><span>
</span><span id="line-228"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Set TxIn -&gt; Identity (Set TxIn))
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era. EraTxBody era =&gt; Lens' (TxBody era) (Set TxIn)
Lens' (TxBody (LedgerEra era)) (Set TxIn)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#inputsTxBodyL"><span class="hs-identifier hs-var">L.inputsTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((Set TxIn -&gt; Identity (Set TxIn))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; Set TxIn -&gt; TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Set TxIn
</span><a href="#local-6989586621681176094"><span class="hs-identifier hs-var">txins</span></a></span><span>
</span><span id="line-229"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Set TxIn -&gt; Identity (Set TxIn))
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era. AlonzoEraTxBody era =&gt; Lens' (TxBody era) (Set TxIn)
Lens' (TxBody (LedgerEra era)) (Set TxIn)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.TxBody.Internal.html#collateralInputsTxBodyL"><span class="hs-identifier hs-var">L.collateralInputsTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((Set TxIn -&gt; Identity (Set TxIn))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; Set TxIn -&gt; TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Set TxIn
</span><a href="#local-6989586621681176097"><span class="hs-identifier hs-var">collTxIns</span></a></span><span>
</span><span id="line-230"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Set TxIn -&gt; Identity (Set TxIn))
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era. BabbageEraTxBody era =&gt; Lens' (TxBody era) (Set TxIn)
Lens' (TxBody (LedgerEra era)) (Set TxIn)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-babbage-1.11.0.0-0cc3d909eef71f6fc95eb3c95e5d5b32c097f9712182b7741a2207fe6f014f5e/share/doc/html/src/Cardano.Ledger.Babbage.TxBody.Internal.html#referenceInputsTxBodyL"><span class="hs-identifier hs-var">L.referenceInputsTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((Set TxIn -&gt; Identity (Set TxIn))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; Set TxIn -&gt; TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Set TxIn
</span><a href="#local-6989586621681176099"><span class="hs-identifier hs-var">refTxIns</span></a></span><span>
</span><span id="line-231"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(StrictSeq (TxOut (LedgerEra era))
 -&gt; Identity (StrictSeq (TxOut (LedgerEra era))))
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era.
EraTxBody era =&gt;
Lens' (TxBody era) (StrictSeq (TxOut era))
Lens' (TxBody (LedgerEra era)) (StrictSeq (TxOut (LedgerEra era)))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#outputsTxBodyL"><span class="hs-identifier hs-var">L.outputsTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((StrictSeq (TxOut (LedgerEra era))
  -&gt; Identity (StrictSeq (TxOut (LedgerEra era))))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; StrictSeq (TxOut (LedgerEra era))
-&gt; TxBody (LedgerEra era)
-&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">StrictSeq (TxOut (LedgerEra era))
</span><a href="#local-6989586621681176101"><span class="hs-identifier hs-var">outs</span></a></span><span>
</span><span id="line-232"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(StrictMaybe Coin -&gt; Identity (StrictMaybe Coin))
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era.
BabbageEraTxBody era =&gt;
Lens' (TxBody era) (StrictMaybe Coin)
Lens' (TxBody (LedgerEra era)) (StrictMaybe Coin)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-babbage-1.11.0.0-0cc3d909eef71f6fc95eb3c95e5d5b32c097f9712182b7741a2207fe6f014f5e/share/doc/html/src/Cardano.Ledger.Babbage.TxBody.Internal.html#totalCollateralTxBodyL"><span class="hs-identifier hs-var">L.totalCollateralTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((StrictMaybe Coin -&gt; Identity (StrictMaybe Coin))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; StrictMaybe Coin
-&gt; TxBody (LedgerEra era)
-&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">StrictMaybe Coin
</span><a href="#local-6989586621681176111"><span class="hs-identifier hs-var">totalCollateral</span></a></span><span>
</span><span id="line-233"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(StrictMaybe (TxOut (LedgerEra era))
 -&gt; Identity (StrictMaybe (TxOut (LedgerEra era))))
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era.
BabbageEraTxBody era =&gt;
Lens' (TxBody era) (StrictMaybe (TxOut era))
Lens'
  (TxBody (LedgerEra era)) (StrictMaybe (TxOut (LedgerEra era)))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-babbage-1.11.0.0-0cc3d909eef71f6fc95eb3c95e5d5b32c097f9712182b7741a2207fe6f014f5e/share/doc/html/src/Cardano.Ledger.Babbage.TxBody.Internal.html#collateralReturnTxBodyL"><span class="hs-identifier hs-var">L.collateralReturnTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((StrictMaybe (TxOut (LedgerEra era))
  -&gt; Identity (StrictMaybe (TxOut (LedgerEra era))))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; StrictMaybe (TxOut (LedgerEra era))
-&gt; TxBody (LedgerEra era)
-&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">StrictMaybe (TxOut (ShelleyLedgerEra era))
StrictMaybe (TxOut (LedgerEra era))
</span><a href="#local-6989586621681176109"><span class="hs-identifier hs-var">returnCollateral</span></a></span><span>
</span><span id="line-234"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Identity Coin)
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era. EraTxBody era =&gt; Lens' (TxBody era) Coin
Lens' (TxBody (LedgerEra era)) Coin
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#feeTxBodyL"><span class="hs-identifier hs-var">L.feeTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((Coin -&gt; Identity Coin)
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; Coin -&gt; TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Coin
</span><a href="#local-6989586621681176103"><span class="hs-identifier hs-var">fee</span></a></span><span>
</span><span id="line-235"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(ValidityInterval -&gt; Identity ValidityInterval)
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era.
AllegraEraTxBody era =&gt;
Lens' (TxBody era) ValidityInterval
Lens' (TxBody (LedgerEra era)) ValidityInterval
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-allegra-1.7.0.0-5b5675c56e719efc0a271ce3990f5e6bf7052e78fd5903b4b50802dfc1c8e2a5/share/doc/html/src/Cardano.Ledger.Allegra.TxBody.Internal.html#vldtTxBodyL"><span class="hs-identifier hs-var">L.vldtTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((ValidityInterval -&gt; Identity ValidityInterval)
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; ((Maybe SlotNo -&gt; Identity (Maybe SlotNo))
    -&gt; ValidityInterval -&gt; Identity ValidityInterval)
-&gt; (Maybe SlotNo -&gt; Identity (Maybe SlotNo))
-&gt; TxBody (LedgerEra era)
-&gt; Identity (TxBody (LedgerEra era))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe SlotNo -&gt; Identity (Maybe SlotNo))
-&gt; ValidityInterval -&gt; Identity ValidityInterval
Lens' ValidityInterval (Maybe SlotNo)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-api-1.11.0.0-2bccda52a336038288c75deda6c562f463cb8e4b43f7e023557bf7a371da9262/share/doc/html/src/Cardano.Ledger.Api.Tx.Body.html#invalidBeforeL"><span class="hs-identifier hs-var">L.invalidBeforeL</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe SlotNo -&gt; Identity (Maybe SlotNo))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; Maybe SlotNo -&gt; TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">TxValidityLowerBound era -&gt; Maybe SlotNo
forall era. TxValidityLowerBound era -&gt; Maybe SlotNo
</span><a href="Cardano.Api.Tx.Internal.Body.html#convValidityLowerBound"><span class="hs-identifier hs-var">convValidityLowerBound</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxValidityLowerBound era
forall build era.
TxBodyContent build era -&gt; TxValidityLowerBound era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txValidityLowerBound"><span class="hs-identifier hs-var">txValidityLowerBound</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(ValidityInterval -&gt; Identity ValidityInterval)
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era.
AllegraEraTxBody era =&gt;
Lens' (TxBody era) ValidityInterval
Lens' (TxBody (LedgerEra era)) ValidityInterval
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-allegra-1.7.0.0-5b5675c56e719efc0a271ce3990f5e6bf7052e78fd5903b4b50802dfc1c8e2a5/share/doc/html/src/Cardano.Ledger.Allegra.TxBody.Internal.html#vldtTxBodyL"><span class="hs-identifier hs-var">L.vldtTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((ValidityInterval -&gt; Identity ValidityInterval)
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; ((Maybe SlotNo -&gt; Identity (Maybe SlotNo))
    -&gt; ValidityInterval -&gt; Identity ValidityInterval)
-&gt; (Maybe SlotNo -&gt; Identity (Maybe SlotNo))
-&gt; TxBody (LedgerEra era)
-&gt; Identity (TxBody (LedgerEra era))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe SlotNo -&gt; Identity (Maybe SlotNo))
-&gt; ValidityInterval -&gt; Identity ValidityInterval
Lens' ValidityInterval (Maybe SlotNo)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-api-1.11.0.0-2bccda52a336038288c75deda6c562f463cb8e4b43f7e023557bf7a371da9262/share/doc/html/src/Cardano.Ledger.Api.Tx.Body.html#invalidHereAfterL"><span class="hs-identifier hs-var">L.invalidHereAfterL</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe SlotNo -&gt; Identity (Maybe SlotNo))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; Maybe SlotNo -&gt; TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; TxValidityUpperBound era -&gt; Maybe SlotNo
forall era.
ShelleyBasedEra era -&gt; TxValidityUpperBound era -&gt; Maybe SlotNo
</span><a href="Cardano.Api.Tx.Internal.Body.html#convValidityUpperBound"><span class="hs-identifier hs-var">convValidityUpperBound</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681176063"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxValidityUpperBound era
forall build era.
TxBodyContent build era -&gt; TxValidityUpperBound era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txValidityUpperBound"><span class="hs-identifier hs-var">txValidityUpperBound</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Set (KeyHash 'Witness) -&gt; Identity (Set (KeyHash 'Witness)))
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era.
AlonzoEraTxBody era =&gt;
Lens' (TxBody era) (Set (KeyHash 'Witness))
Lens' (TxBody (LedgerEra era)) (Set (KeyHash 'Witness))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.TxBody.Internal.html#reqSignerHashesTxBodyL"><span class="hs-identifier hs-var">L.reqSignerHashesTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((Set (KeyHash 'Witness) -&gt; Identity (Set (KeyHash 'Witness)))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; Set (KeyHash 'Witness)
-&gt; TxBody (LedgerEra era)
-&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Set (KeyHash 'Witness)
</span><a href="#local-6989586621681176124"><span class="hs-identifier hs-var">setReqSignerHashes</span></a></span><span>
</span><span id="line-238"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(StrictMaybe ScriptIntegrityHash
 -&gt; Identity (StrictMaybe ScriptIntegrityHash))
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era.
AlonzoEraTxBody era =&gt;
Lens' (TxBody era) (StrictMaybe ScriptIntegrityHash)
Lens' (TxBody (LedgerEra era)) (StrictMaybe ScriptIntegrityHash)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.TxBody.Internal.html#scriptIntegrityHashTxBodyL"><span class="hs-identifier hs-var">L.scriptIntegrityHashTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((StrictMaybe ScriptIntegrityHash
  -&gt; Identity (StrictMaybe ScriptIntegrityHash))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; StrictMaybe ScriptIntegrityHash
-&gt; TxBody (LedgerEra era)
-&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">StrictMaybe ScriptIntegrityHash
</span><a href="#local-6989586621681176120"><span class="hs-identifier hs-var">scriptIntegrityHash</span></a></span><span>
</span><span id="line-239"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Withdrawals -&gt; Identity Withdrawals)
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era. EraTxBody era =&gt; Lens' (TxBody era) Withdrawals
Lens' (TxBody (LedgerEra era)) Withdrawals
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#withdrawalsTxBodyL"><span class="hs-identifier hs-var">L.withdrawalsTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((Withdrawals -&gt; Identity Withdrawals)
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; Withdrawals -&gt; TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Withdrawals
</span><a href="#local-6989586621681176106"><span class="hs-identifier hs-var">withdrawals</span></a></span><span>
</span><span id="line-240"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(StrictSeq (TxCert (LedgerEra era))
 -&gt; Identity (StrictSeq (TxCert (LedgerEra era))))
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era.
EraTxBody era =&gt;
Lens' (TxBody era) (StrictSeq (TxCert era))
Lens' (TxBody (LedgerEra era)) (StrictSeq (TxCert (LedgerEra era)))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#certsTxBodyL"><span class="hs-identifier hs-var">L.certsTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((StrictSeq (TxCert (LedgerEra era))
  -&gt; Identity (StrictSeq (TxCert (LedgerEra era))))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; StrictSeq (TxCert (LedgerEra era))
-&gt; TxBody (LedgerEra era)
-&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">StrictSeq (TxCert (ShelleyLedgerEra era))
StrictSeq (TxCert (LedgerEra era))
</span><a href="#local-6989586621681176113"><span class="hs-identifier hs-var">certs</span></a></span><span>
</span><span id="line-241"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(MultiAsset -&gt; Identity MultiAsset)
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era. MaryEraTxBody era =&gt; Lens' (TxBody era) MultiAsset
Lens' (TxBody (LedgerEra era)) MultiAsset
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-mary-1.8.0.0-c2d2a0fe0344dbe6dd3b89c37f11ef64701340e241d20b50570ffe82a4b1fcbb/share/doc/html/src/Cardano.Ledger.Mary.TxBody.Internal.html#mintTxBodyL"><span class="hs-identifier hs-var">L.mintTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((MultiAsset -&gt; Identity MultiAsset)
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; MultiAsset -&gt; TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">MultiAsset
</span><a href="#local-6989586621681176122"><span class="hs-identifier hs-var">setMint</span></a></span><span>
</span><span id="line-242"></span><span>          </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; (TxBody (LedgerEra era) -&gt; TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(StrictMaybe TxAuxDataHash -&gt; Identity (StrictMaybe TxAuxDataHash))
-&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era))
forall era.
EraTxBody era =&gt;
Lens' (TxBody era) (StrictMaybe TxAuxDataHash)
Lens' (TxBody (LedgerEra era)) (StrictMaybe TxAuxDataHash)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#auxDataHashTxBodyL"><span class="hs-identifier hs-var">L.auxDataHashTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((StrictMaybe TxAuxDataHash
  -&gt; Identity (StrictMaybe TxAuxDataHash))
 -&gt; TxBody (LedgerEra era) -&gt; Identity (TxBody (LedgerEra era)))
-&gt; StrictMaybe TxAuxDataHash
-&gt; TxBody (LedgerEra era)
-&gt; TxBody (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">StrictMaybe TxAuxDataHash
-&gt; (TxAuxData (LedgerEra era) -&gt; StrictMaybe TxAuxDataHash)
-&gt; Maybe (TxAuxData (LedgerEra era))
-&gt; StrictMaybe TxAuxDataHash
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">StrictMaybe TxAuxDataHash
forall a. StrictMaybe a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-strict-containers-0.1.4.0-bdea76c3603d1725ad7e313264374bc100b3d55d2fcd9adab2f04ae342b6f256/share/doc/html/src/Data.Maybe.Strict.html#SNothing"><span class="hs-identifier hs-var">SNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxAuxDataHash -&gt; StrictMaybe TxAuxDataHash
forall a. a -&gt; StrictMaybe a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-strict-containers-0.1.4.0-bdea76c3603d1725ad7e313264374bc100b3d55d2fcd9adab2f04ae342b6f256/share/doc/html/src/Data.Maybe.Strict.html#SJust"><span class="hs-identifier hs-var">SJust</span></a></span><span> </span><span class="annot"><span class="annottext">(TxAuxDataHash -&gt; StrictMaybe TxAuxDataHash)
-&gt; (TxAuxData (LedgerEra era) -&gt; TxAuxDataHash)
-&gt; TxAuxData (LedgerEra era)
-&gt; StrictMaybe TxAuxDataHash
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxAuxData (LedgerEra era) -&gt; TxAuxDataHash
forall era. EraTxAuxData era =&gt; TxAuxData era -&gt; TxAuxDataHash
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#hashTxAuxData"><span class="hs-identifier hs-var">Ledger.hashTxAuxData</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (TxAuxData (ShelleyLedgerEra era))
Maybe (TxAuxData (LedgerEra era))
</span><a href="#local-6989586621681176116"><span class="hs-identifier hs-var">txAuxData</span></a></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span>      </span><span id="local-6989586621681176155"><span class="annot"><span class="annottext">scriptWitnesses :: TxWits (LedgerEra era)
</span><a href="#local-6989586621681176155"><span class="hs-identifier hs-var hs-var">scriptWitnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-245"></span><span>        </span><span class="annot"><span class="annottext">TxWits (LedgerEra era)
forall era. EraTxWits era =&gt; TxWits era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#mkBasicTxWits"><span class="hs-identifier hs-var">L.mkBasicTxWits</span></a></span><span>
</span><span id="line-246"></span><span>          </span><span class="annot"><span class="annottext">TxWits (LedgerEra era)
-&gt; (TxWits (LedgerEra era) -&gt; TxWits (LedgerEra era))
-&gt; TxWits (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Map ScriptHash (Script (LedgerEra era))
 -&gt; Identity (Map ScriptHash (Script (LedgerEra era))))
-&gt; TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era))
forall era.
EraTxWits era =&gt;
Lens' (TxWits era) (Map ScriptHash (Script era))
Lens'
  (TxWits (LedgerEra era)) (Map ScriptHash (Script (LedgerEra era)))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#scriptTxWitsL"><span class="hs-identifier hs-var">L.scriptTxWitsL</span></a></span><span>
</span><span id="line-247"></span><span>            </span><span class="annot"><span class="annottext">((Map ScriptHash (Script (LedgerEra era))
  -&gt; Identity (Map ScriptHash (Script (LedgerEra era))))
 -&gt; TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era)))
-&gt; Map ScriptHash (Script (LedgerEra era))
-&gt; TxWits (LedgerEra era)
-&gt; TxWits (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">[Item (Map ScriptHash (Script (LedgerEra era)))]
-&gt; Map ScriptHash (Script (LedgerEra era))
forall l. IsList l =&gt; [Item l] -&gt; l
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var">fromList</span></a></span><span>
</span><span id="line-248"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Script (LedgerEra era) -&gt; ScriptHash
forall era. EraScript era =&gt; Script era -&gt; ScriptHash
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#hashScript"><span class="hs-identifier hs-var">L.hashScript</span></a></span><span> </span><span class="annot"><span class="annottext">Script (LedgerEra era)
</span><a href="#local-6989586621681176159"><span class="hs-identifier hs-var">sw</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Script (LedgerEra era)
</span><a href="#local-6989586621681176159"><span class="hs-identifier hs-var">sw</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681176159"><span class="annot"><span class="annottext">Script (LedgerEra era)
</span><a href="#local-6989586621681176159"><span class="hs-identifier hs-var">sw</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Script (LedgerEra era)]
</span><a href="#local-6989586621681176068"><span class="hs-identifier hs-var">scripts</span></a></span><span>
</span><span id="line-250"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-251"></span><span>          </span><span class="annot"><span class="annottext">TxWits (LedgerEra era)
-&gt; (TxWits (LedgerEra era) -&gt; TxWits (LedgerEra era))
-&gt; TxWits (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(TxDats (LedgerEra era) -&gt; Identity (TxDats (LedgerEra era)))
-&gt; TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era))
forall era. AlonzoEraTxWits era =&gt; Lens' (TxWits era) (TxDats era)
Lens' (TxWits (LedgerEra era)) (TxDats (LedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.TxWits.html#datsTxWitsL"><span class="hs-identifier hs-var">L.datsTxWitsL</span></a></span><span> </span><span class="annot"><span class="annottext">((TxDats (LedgerEra era) -&gt; Identity (TxDats (LedgerEra era)))
 -&gt; TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era)))
-&gt; TxDats (LedgerEra era)
-&gt; TxWits (LedgerEra era)
-&gt; TxWits (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">TxDats (LedgerEra era)
</span><a href="#local-6989586621681176069"><span class="hs-identifier hs-var">datums</span></a></span><span>
</span><span id="line-252"></span><span>          </span><span class="annot"><span class="annottext">TxWits (LedgerEra era)
-&gt; (TxWits (LedgerEra era) -&gt; TxWits (LedgerEra era))
-&gt; TxWits (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Redeemers (LedgerEra era) -&gt; Identity (Redeemers (LedgerEra era)))
-&gt; TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era))
forall era.
AlonzoEraTxWits era =&gt;
Lens' (TxWits era) (Redeemers era)
Lens' (TxWits (LedgerEra era)) (Redeemers (LedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.TxWits.html#rdmrsTxWitsL"><span class="hs-identifier hs-var">L.rdmrsTxWitsL</span></a></span><span> </span><span class="annot"><span class="annottext">((Redeemers (LedgerEra era)
  -&gt; Identity (Redeemers (LedgerEra era)))
 -&gt; TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era)))
-&gt; Redeemers (LedgerEra era)
-&gt; TxWits (LedgerEra era)
-&gt; TxWits (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Redeemers (LedgerEra era)
</span><a href="#local-6989586621681176070"><span class="hs-identifier hs-var">redeemers</span></a></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span>  </span><span id="local-6989586621681176162"><span class="annot"><span class="annottext">TxBody (LedgerEra era)
</span><a href="#local-6989586621681176162"><span class="hs-identifier hs-var">eraSpecificTxBody</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; TxBody (LedgerEra era)
-&gt; TxBodyContent BuildTx era
-&gt; Either TxBodyError (TxBody (LedgerEra era))
forall era.
Era era
-&gt; TxBody (LedgerEra era)
-&gt; TxBodyContent BuildTx era
-&gt; Either TxBodyError (TxBody (LedgerEra era))
</span><a href="Cardano.Api.Experimental.Tx.html#eraSpecificLedgerTxBody"><span class="hs-identifier hs-var">eraSpecificLedgerTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681175970"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
</span><a href="#local-6989586621681176126"><span class="hs-identifier hs-var">ledgerTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span>  </span><span class="annot"><span class="annottext">UnsignedTx era -&gt; Either TxBodyError (UnsignedTx era)
forall a. a -&gt; Either TxBodyError a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsignedTx era -&gt; Either TxBodyError (UnsignedTx era))
-&gt; (Tx (LedgerEra era) -&gt; UnsignedTx era)
-&gt; Tx (LedgerEra era)
-&gt; Either TxBodyError (UnsignedTx era)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Tx (LedgerEra era) -&gt; UnsignedTx era
forall era. Tx (LedgerEra era) -&gt; UnsignedTx era
</span><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-var">UnsignedTx</span></a></span><span> </span><span class="annot"><span class="annottext">(Tx (LedgerEra era) -&gt; Either TxBodyError (UnsignedTx era))
-&gt; Tx (LedgerEra era) -&gt; Either TxBodyError (UnsignedTx era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-257"></span><span>    </span><span class="annot"><span class="annottext">TxBody (LedgerEra era) -&gt; Tx (LedgerEra era)
forall era. EraTx era =&gt; TxBody era -&gt; Tx era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#mkBasicTx"><span class="hs-identifier hs-var">L.mkBasicTx</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
</span><a href="#local-6989586621681176162"><span class="hs-identifier hs-var">eraSpecificTxBody</span></a></span><span>
</span><span id="line-258"></span><span>      </span><span class="annot"><span class="annottext">Tx (LedgerEra era)
-&gt; (Tx (LedgerEra era) -&gt; Tx (LedgerEra era)) -&gt; Tx (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era)))
-&gt; Tx (LedgerEra era) -&gt; Identity (Tx (LedgerEra era))
forall era. EraTx era =&gt; Lens' (Tx era) (TxWits era)
Lens' (Tx (LedgerEra era)) (TxWits (LedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#witsTxL"><span class="hs-identifier hs-var">L.witsTxL</span></a></span><span> </span><span class="annot"><span class="annottext">((TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era)))
 -&gt; Tx (LedgerEra era) -&gt; Identity (Tx (LedgerEra era)))
-&gt; TxWits (LedgerEra era)
-&gt; Tx (LedgerEra era)
-&gt; Tx (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">TxWits (LedgerEra era)
</span><a href="#local-6989586621681176155"><span class="hs-identifier hs-var">scriptWitnesses</span></a></span><span>
</span><span id="line-259"></span><span>      </span><span class="annot"><span class="annottext">Tx (LedgerEra era)
-&gt; (Tx (LedgerEra era) -&gt; Tx (LedgerEra era)) -&gt; Tx (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(StrictMaybe (TxAuxData (LedgerEra era))
 -&gt; Identity (StrictMaybe (TxAuxData (LedgerEra era))))
-&gt; Tx (LedgerEra era) -&gt; Identity (Tx (LedgerEra era))
forall era.
EraTx era =&gt;
Lens' (Tx era) (StrictMaybe (TxAuxData era))
Lens'
  (Tx (LedgerEra era)) (StrictMaybe (TxAuxData (LedgerEra era)))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#auxDataTxL"><span class="hs-identifier hs-var">L.auxDataTxL</span></a></span><span> </span><span class="annot"><span class="annottext">((StrictMaybe (TxAuxData (LedgerEra era))
  -&gt; Identity (StrictMaybe (TxAuxData (LedgerEra era))))
 -&gt; Tx (LedgerEra era) -&gt; Identity (Tx (LedgerEra era)))
-&gt; StrictMaybe (TxAuxData (LedgerEra era))
-&gt; Tx (LedgerEra era)
-&gt; Tx (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Maybe (TxAuxData (LedgerEra era))
-&gt; StrictMaybe (TxAuxData (LedgerEra era))
forall a. Maybe a -&gt; StrictMaybe a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-strict-containers-0.1.4.0-bdea76c3603d1725ad7e313264374bc100b3d55d2fcd9adab2f04ae342b6f256/share/doc/html/src/Data.Maybe.Strict.html#maybeToStrictMaybe"><span class="hs-identifier hs-var">maybeToStrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era
-&gt; TxMetadataInEra era
-&gt; TxAuxScripts era
-&gt; Maybe (TxAuxData (ShelleyLedgerEra era))
forall era.
ShelleyBasedEra era
-&gt; TxMetadataInEra era
-&gt; TxAuxScripts era
-&gt; Maybe (TxAuxData (ShelleyLedgerEra era))
</span><a href="Cardano.Api.Tx.Internal.Body.html#toAuxiliaryData"><span class="hs-identifier hs-var">toAuxiliaryData</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681176063"><span class="hs-identifier hs-var">sbe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxMetadataInEra era
forall build era. TxBodyContent build era -&gt; TxMetadataInEra era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txMetadata"><span class="hs-identifier hs-var">txMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxBodyContent BuildTx era -&gt; TxAuxScripts era
forall build era. TxBodyContent build era -&gt; TxAuxScripts era
</span><a href="Cardano.Api.Tx.Internal.Body.html#txAuxScripts"><span class="hs-identifier hs-var">txAuxScripts</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681175971"><span class="hs-identifier hs-var">bc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>      </span><span class="annot"><span class="annottext">Tx (LedgerEra era)
-&gt; (Tx (LedgerEra era) -&gt; Tx (LedgerEra era)) -&gt; Tx (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(IsValid -&gt; Identity IsValid)
-&gt; Tx (LedgerEra era) -&gt; Identity (Tx (LedgerEra era))
forall era. AlonzoEraTx era =&gt; Lens' (Tx era) IsValid
Lens' (Tx (LedgerEra era)) IsValid
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-alonzo-1.13.0.0-71efdc253da48a90614506fa7ef33cdbb352837bc58938d4f33cd2ac5f30e1dd/share/doc/html/src/Cardano.Ledger.Alonzo.Tx.html#isValidTxL"><span class="hs-identifier hs-var">L.isValidTxL</span></a></span><span> </span><span class="annot"><span class="annottext">((IsValid -&gt; Identity IsValid)
 -&gt; Tx (LedgerEra era) -&gt; Identity (Tx (LedgerEra era)))
-&gt; IsValid -&gt; Tx (LedgerEra era) -&gt; Tx (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">TxScriptValidity era -&gt; IsValid
forall era. TxScriptValidity era -&gt; IsValid
</span><a href="Cardano.Api.Tx.Internal.Sign.html#txScriptValidityToIsValid"><span class="hs-identifier hs-var">txScriptValidityToIsValid</span></a></span><span> </span><span class="annot"><span class="annottext">TxScriptValidity era
</span><a href="#local-6989586621681176078"><span class="hs-identifier hs-var">apiScriptValidity</span></a></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span id="local-6989586621681175796"><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#eraSpecificLedgerTxBody"><span class="hs-identifier hs-type">eraSpecificLedgerTxBody</span></a></span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175796"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#TxBody"><span class="hs-identifier hs-type">Ledger.TxBody</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175796"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Body.html#TxBodyContent"><span class="hs-identifier hs-type">TxBodyContent</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.BuildTxWith.html#BuildTx"><span class="hs-identifier hs-type">BuildTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175796"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-266"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Body.html#TxBodyError"><span class="hs-identifier hs-type">TxBodyError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#TxBody"><span class="hs-identifier hs-type">Ledger.TxBody</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175796"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-267"></span><span id="eraSpecificLedgerTxBody"><span class="annot"><span class="annottext">eraSpecificLedgerTxBody :: forall era.
Era era
-&gt; TxBody (LedgerEra era)
-&gt; TxBodyContent BuildTx era
-&gt; Either TxBodyError (TxBody (LedgerEra era))
</span><a href="Cardano.Api.Experimental.Tx.html#eraSpecificLedgerTxBody"><span class="hs-identifier hs-var hs-var">eraSpecificLedgerTxBody</span></a></span></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="Cardano.Api.Experimental.Era.html#ConwayEra"><span class="hs-identifier hs-var">ConwayEra</span></a></span><span> </span><span id="local-6989586621681176182"><span class="annot"><span class="annottext">TxBody (LedgerEra era)
</span><a href="#local-6989586621681176182"><span class="hs-identifier hs-var">ledgerbody</span></a></span></span><span> </span><span id="local-6989586621681176183"><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681176183"><span class="hs-identifier hs-var">bc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681176184"><span class="annot"><span class="annottext">propProcedures :: Maybe
  (Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era))
</span><a href="#local-6989586621681176184"><span class="hs-identifier hs-var hs-var">propProcedures</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; Maybe
     (Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era))
forall build era.
TxBodyContent build era
-&gt; Maybe
     (Featured ConwayEraOnwards era (TxProposalProcedures build era))
</span><a href="Cardano.Api.Tx.Internal.Body.html#txProposalProcedures"><span class="hs-identifier hs-var">txProposalProcedures</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681176183"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-269"></span><span>      </span><span id="local-6989586621681176186"><span class="annot"><span class="annottext">voteProcedures :: Maybe
  (Featured ConwayEraOnwards era (TxVotingProcedures BuildTx era))
</span><a href="#local-6989586621681176186"><span class="hs-identifier hs-var hs-var">voteProcedures</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; Maybe
     (Featured ConwayEraOnwards era (TxVotingProcedures BuildTx era))
forall build era.
TxBodyContent build era
-&gt; Maybe
     (Featured ConwayEraOnwards era (TxVotingProcedures build era))
</span><a href="Cardano.Api.Tx.Internal.Body.html#txVotingProcedures"><span class="hs-identifier hs-var">txVotingProcedures</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681176183"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-270"></span><span>      </span><span id="local-6989586621681176188"><span class="annot"><span class="annottext">treasuryDonation :: Maybe (Featured ConwayEraOnwards era Coin)
</span><a href="#local-6989586621681176188"><span class="hs-identifier hs-var hs-var">treasuryDonation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; Maybe (Featured ConwayEraOnwards era Coin)
forall build era.
TxBodyContent build era
-&gt; Maybe (Featured ConwayEraOnwards era Coin)
</span><a href="Cardano.Api.Tx.Internal.Body.html#txTreasuryDonation"><span class="hs-identifier hs-var">txTreasuryDonation</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681176183"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-271"></span><span>      </span><span id="local-6989586621681176190"><span class="annot"><span class="annottext">currentTresuryValue :: Maybe (Featured ConwayEraOnwards era (Maybe Coin))
</span><a href="#local-6989586621681176190"><span class="hs-identifier hs-var hs-var">currentTresuryValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
-&gt; Maybe (Featured ConwayEraOnwards era (Maybe Coin))
forall build era.
TxBodyContent build era
-&gt; Maybe (Featured ConwayEraOnwards era (Maybe Coin))
</span><a href="Cardano.Api.Tx.Internal.Body.html#txCurrentTreasuryValue"><span class="hs-identifier hs-var">txCurrentTreasuryValue</span></a></span><span> </span><span class="annot"><span class="annottext">TxBodyContent BuildTx era
</span><a href="#local-6989586621681176183"><span class="hs-identifier hs-var">bc</span></a></span><span>
</span><span id="line-272"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
-&gt; Either TxBodyError (TxBody (LedgerEra era))
forall a. a -&gt; Either TxBodyError a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a></span><span> </span><span class="annot"><span class="annottext">(TxBody (LedgerEra era)
 -&gt; Either TxBodyError (TxBody (LedgerEra era)))
-&gt; TxBody (LedgerEra era)
-&gt; Either TxBodyError (TxBody (LedgerEra era))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-273"></span><span>        </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
ConwayTxBody ConwayEra
</span><a href="#local-6989586621681176182"><span class="hs-identifier hs-var">ledgerbody</span></a></span><span>
</span><span id="line-274"></span><span>          </span><span class="annot"><span class="annottext">ConwayTxBody ConwayEra
-&gt; (ConwayTxBody ConwayEra -&gt; ConwayTxBody ConwayEra)
-&gt; ConwayTxBody ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(OSet (ProposalProcedure ConwayEra)
 -&gt; Identity (OSet (ProposalProcedure ConwayEra)))
-&gt; TxBody ConwayEra -&gt; Identity (TxBody ConwayEra)
(OSet (ProposalProcedure ConwayEra)
 -&gt; Identity (OSet (ProposalProcedure ConwayEra)))
-&gt; ConwayTxBody ConwayEra -&gt; Identity (ConwayTxBody ConwayEra)
forall era.
ConwayEraTxBody era =&gt;
Lens' (TxBody era) (OSet (ProposalProcedure era))
Lens' (TxBody ConwayEra) (OSet (ProposalProcedure ConwayEra))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.TxBody.Internal.html#proposalProceduresTxBodyL"><span class="hs-identifier hs-var">L.proposalProceduresTxBodyL</span></a></span><span>
</span><span id="line-275"></span><span>            </span><span class="annot"><span class="annottext">((OSet (ProposalProcedure ConwayEra)
  -&gt; Identity (OSet (ProposalProcedure ConwayEra)))
 -&gt; ConwayTxBody ConwayEra -&gt; Identity (ConwayTxBody ConwayEra))
-&gt; OSet (ProposalProcedure ConwayEra)
-&gt; ConwayTxBody ConwayEra
-&gt; ConwayTxBody ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">TxProposalProcedures BuildTx era
-&gt; OSet (ProposalProcedure (ShelleyLedgerEra era))
forall build era.
TxProposalProcedures build era
-&gt; OSet (ProposalProcedure (ShelleyLedgerEra era))
</span><a href="Cardano.Api.Tx.Internal.Body.html#convProposalProcedures"><span class="hs-identifier hs-var">convProposalProcedures</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxProposalProcedures BuildTx era
-&gt; (Featured
      ConwayEraOnwards era (TxProposalProcedures BuildTx era)
    -&gt; TxProposalProcedures BuildTx era)
-&gt; Maybe
     (Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era))
-&gt; TxProposalProcedures BuildTx era
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TxProposalProcedures BuildTx era
forall build era. TxProposalProcedures build era
</span><a href="Cardano.Api.Tx.Internal.Body.html#TxProposalProceduresNone"><span class="hs-identifier hs-var">TxProposalProceduresNone</span></a></span><span> </span><span class="annot"><span class="annottext">Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era)
-&gt; TxProposalProcedures BuildTx era
forall (eon :: * -&gt; *) era a. Featured eon era a -&gt; a
</span><a href="Cardano.Api.Era.Internal.Feature.html#unFeatured"><span class="hs-identifier hs-var">unFeatured</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (Featured ConwayEraOnwards era (TxProposalProcedures BuildTx era))
</span><a href="#local-6989586621681176184"><span class="hs-identifier hs-var">propProcedures</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>          </span><span class="annot"><span class="annottext">ConwayTxBody ConwayEra
-&gt; (ConwayTxBody ConwayEra -&gt; ConwayTxBody ConwayEra)
-&gt; ConwayTxBody ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(VotingProcedures ConwayEra
 -&gt; Identity (VotingProcedures ConwayEra))
-&gt; TxBody ConwayEra -&gt; Identity (TxBody ConwayEra)
(VotingProcedures ConwayEra
 -&gt; Identity (VotingProcedures ConwayEra))
-&gt; ConwayTxBody ConwayEra -&gt; Identity (ConwayTxBody ConwayEra)
forall era.
ConwayEraTxBody era =&gt;
Lens' (TxBody era) (VotingProcedures era)
Lens' (TxBody ConwayEra) (VotingProcedures ConwayEra)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.TxBody.Internal.html#votingProceduresTxBodyL"><span class="hs-identifier hs-var">L.votingProceduresTxBodyL</span></a></span><span>
</span><span id="line-277"></span><span>            </span><span class="annot"><span class="annottext">((VotingProcedures ConwayEra
  -&gt; Identity (VotingProcedures ConwayEra))
 -&gt; ConwayTxBody ConwayEra -&gt; Identity (ConwayTxBody ConwayEra))
-&gt; VotingProcedures ConwayEra
-&gt; ConwayTxBody ConwayEra
-&gt; ConwayTxBody ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">TxVotingProcedures BuildTx era
-&gt; VotingProcedures (ShelleyLedgerEra era)
forall build era.
TxVotingProcedures build era
-&gt; VotingProcedures (ShelleyLedgerEra era)
</span><a href="Cardano.Api.Tx.Internal.Body.html#convVotingProcedures"><span class="hs-identifier hs-var">convVotingProcedures</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxVotingProcedures BuildTx era
-&gt; (Featured ConwayEraOnwards era (TxVotingProcedures BuildTx era)
    -&gt; TxVotingProcedures BuildTx era)
-&gt; Maybe
     (Featured ConwayEraOnwards era (TxVotingProcedures BuildTx era))
-&gt; TxVotingProcedures BuildTx era
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TxVotingProcedures BuildTx era
forall build era. TxVotingProcedures build era
</span><a href="Cardano.Api.Tx.Internal.Body.html#TxVotingProceduresNone"><span class="hs-identifier hs-var">TxVotingProceduresNone</span></a></span><span> </span><span class="annot"><span class="annottext">Featured ConwayEraOnwards era (TxVotingProcedures BuildTx era)
-&gt; TxVotingProcedures BuildTx era
forall (eon :: * -&gt; *) era a. Featured eon era a -&gt; a
</span><a href="Cardano.Api.Era.Internal.Feature.html#unFeatured"><span class="hs-identifier hs-var">unFeatured</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe
  (Featured ConwayEraOnwards era (TxVotingProcedures BuildTx era))
</span><a href="#local-6989586621681176186"><span class="hs-identifier hs-var">voteProcedures</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>          </span><span class="annot"><span class="annottext">ConwayTxBody ConwayEra
-&gt; (ConwayTxBody ConwayEra -&gt; ConwayTxBody ConwayEra)
-&gt; ConwayTxBody ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Coin -&gt; Identity Coin)
-&gt; TxBody ConwayEra -&gt; Identity (TxBody ConwayEra)
(Coin -&gt; Identity Coin)
-&gt; ConwayTxBody ConwayEra -&gt; Identity (ConwayTxBody ConwayEra)
forall era. ConwayEraTxBody era =&gt; Lens' (TxBody era) Coin
Lens' (TxBody ConwayEra) Coin
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.TxBody.Internal.html#treasuryDonationTxBodyL"><span class="hs-identifier hs-var">L.treasuryDonationTxBodyL</span></a></span><span> </span><span class="annot"><span class="annottext">((Coin -&gt; Identity Coin)
 -&gt; ConwayTxBody ConwayEra -&gt; Identity (ConwayTxBody ConwayEra))
-&gt; Coin -&gt; ConwayTxBody ConwayEra -&gt; ConwayTxBody ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Coin
-&gt; (Featured ConwayEraOnwards era Coin -&gt; Coin)
-&gt; Maybe (Featured ConwayEraOnwards era Coin)
-&gt; Coin
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Coin
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Coin.html#Coin"><span class="hs-identifier hs-var">L.Coin</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Featured ConwayEraOnwards era Coin -&gt; Coin
forall (eon :: * -&gt; *) era a. Featured eon era a -&gt; a
</span><a href="Cardano.Api.Era.Internal.Feature.html#unFeatured"><span class="hs-identifier hs-var">unFeatured</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Featured ConwayEraOnwards era Coin)
</span><a href="#local-6989586621681176188"><span class="hs-identifier hs-var">treasuryDonation</span></a></span><span>
</span><span id="line-279"></span><span>          </span><span class="annot"><span class="annottext">ConwayTxBody ConwayEra
-&gt; (ConwayTxBody ConwayEra -&gt; ConwayTxBody ConwayEra)
-&gt; ConwayTxBody ConwayEra
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(StrictMaybe Coin -&gt; Identity (StrictMaybe Coin))
-&gt; TxBody ConwayEra -&gt; Identity (TxBody ConwayEra)
(StrictMaybe Coin -&gt; Identity (StrictMaybe Coin))
-&gt; ConwayTxBody ConwayEra -&gt; Identity (ConwayTxBody ConwayEra)
forall era.
ConwayEraTxBody era =&gt;
Lens' (TxBody era) (StrictMaybe Coin)
Lens' (TxBody ConwayEra) (StrictMaybe Coin)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-conway-1.19.0.0-40e71866ef7d38f1cf7aa43a8b02f8a739e600145b1dfb258f87a7da63299a5a/share/doc/html/src/Cardano.Ledger.Conway.TxBody.Internal.html#currentTreasuryValueTxBodyL"><span class="hs-identifier hs-var">L.currentTreasuryValueTxBodyL</span></a></span><span>
</span><span id="line-280"></span><span>            </span><span class="annot"><span class="annottext">((StrictMaybe Coin -&gt; Identity (StrictMaybe Coin))
 -&gt; ConwayTxBody ConwayEra -&gt; Identity (ConwayTxBody ConwayEra))
-&gt; StrictMaybe Coin
-&gt; ConwayTxBody ConwayEra
-&gt; ConwayTxBody ConwayEra
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">Maybe Coin -&gt; StrictMaybe Coin
forall a. Maybe a -&gt; StrictMaybe a
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-strict-containers-0.1.4.0-bdea76c3603d1725ad7e313264374bc100b3d55d2fcd9adab2f04ae342b6f256/share/doc/html/src/Data.Maybe.Strict.html#maybeToStrictMaybe"><span class="hs-identifier hs-var">L.maybeToStrictMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Featured ConwayEraOnwards era (Maybe Coin) -&gt; Maybe Coin
forall (eon :: * -&gt; *) era a. Featured eon era a -&gt; a
</span><a href="Cardano.Api.Era.Internal.Feature.html#unFeatured"><span class="hs-identifier hs-var">unFeatured</span></a></span><span> </span><span class="annot"><span class="annottext">(Featured ConwayEraOnwards era (Maybe Coin) -&gt; Maybe Coin)
-&gt; Maybe (Featured ConwayEraOnwards era (Maybe Coin)) -&gt; Maybe Coin
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%3D%3C%3C"><span class="hs-operator hs-var">=&lt;&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Featured ConwayEraOnwards era (Maybe Coin))
</span><a href="#local-6989586621681176190"><span class="hs-identifier hs-var">currentTresuryValue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span id="local-6989586621681175835"><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#hashTxBody"><span class="hs-identifier hs-type">hashTxBody</span></a></span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Hashes.html#HashAnnotated"><span class="hs-identifier hs-type">L.HashAnnotated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#TxBody"><span class="hs-identifier hs-type">Ledger.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175835"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Hashes.html#EraIndependentTxBody"><span class="hs-identifier hs-type">L.EraIndependentTxBody</span></a></span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#TxBody"><span class="hs-identifier hs-type">L.TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175835"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-crypto-class-2.2.2.0-61aab910ecd8f6d7cb4b62fec3fb543649386204c7c5998609c4848b9a61e05f/share/doc/html/src/Cardano.Crypto.Hash.Class.html#Hash"><span class="hs-identifier hs-type">Hash.Hash</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Hashes.html#HASH"><span class="hs-identifier hs-type">L.HASH</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Hashes.html#EraIndependentTxBody"><span class="hs-identifier hs-type">L.EraIndependentTxBody</span></a></span></span><span>
</span><span id="line-285"></span><span id="hashTxBody"><span class="annot"><span class="annottext">hashTxBody :: forall era.
HashAnnotated (TxBody era) EraIndependentTxBody =&gt;
TxBody era -&gt; Hash HASH EraIndependentTxBody
</span><a href="Cardano.Api.Experimental.Tx.html#hashTxBody"><span class="hs-identifier hs-var hs-var">hashTxBody</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SafeHash EraIndependentTxBody -&gt; Hash HASH EraIndependentTxBody
forall i. SafeHash i -&gt; Hash HASH i
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Hashes.html#extractHash"><span class="hs-identifier hs-var">L.extractHash</span></a></span><span> </span><span class="annot"><span class="annottext">(SafeHash EraIndependentTxBody -&gt; Hash HASH EraIndependentTxBody)
-&gt; (TxBody era -&gt; SafeHash EraIndependentTxBody)
-&gt; TxBody era
-&gt; Hash HASH EraIndependentTxBody
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody era -&gt; SafeHash EraIndependentTxBody
forall x i. HashAnnotated x i =&gt; x -&gt; SafeHash i
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Hashes.html#hashAnnotated"><span class="hs-identifier hs-var">L.hashAnnotated</span></a></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span id="local-6989586621681175845"><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#makeKeyWitness"><span class="hs-identifier hs-type">makeKeyWitness</span></a></span><span>
</span><span id="line-288"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175845"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-type">UnsignedTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175845"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Sign.html#ShelleyWitnessSigningKey"><span class="hs-identifier hs-type">ShelleyWitnessSigningKey</span></a></span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Keys.WitVKey.html#WitVKey"><span class="hs-identifier hs-type">L.WitVKey</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Keys.Internal.html#Witness"><span class="hs-identifier hs-type">L.Witness</span></a></span></span><span>
</span><span id="line-292"></span><span id="makeKeyWitness"><span class="annot"><span class="annottext">makeKeyWitness :: forall era.
Era era
-&gt; UnsignedTx era -&gt; ShelleyWitnessSigningKey -&gt; WitVKey 'Witness
</span><a href="Cardano.Api.Experimental.Tx.html#makeKeyWitness"><span class="hs-identifier hs-var hs-var">makeKeyWitness</span></a></span></span><span> </span><span id="local-6989586621681176207"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681176207"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-type">UnsignedTx</span></a></span><span> </span><span id="local-6989586621681176208"><span class="annot"><span class="annottext">Tx (LedgerEra era)
</span><a href="#local-6989586621681176208"><span class="hs-identifier hs-var">unsignedTx</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681176209"><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
</span><a href="#local-6989586621681176209"><span class="hs-identifier hs-var">wsk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-293"></span><span>  </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; WitVKey 'Witness)
-&gt; WitVKey 'Witness
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681176207"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; WitVKey 'Witness)
 -&gt; WitVKey 'Witness)
-&gt; (EraCommonConstraints era =&gt; WitVKey 'Witness)
-&gt; WitVKey 'Witness
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681176219"><span class="annot"><span class="annottext">txbody :: TxBody (LedgerEra era)
</span><a href="#local-6989586621681176219"><span class="hs-identifier hs-var hs-var">txbody</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx (LedgerEra era)
</span><a href="#local-6989586621681176208"><span class="hs-identifier hs-var">unsignedTx</span></a></span><span> </span><span class="annot"><span class="annottext">Tx (LedgerEra era)
-&gt; Getting
     (TxBody (LedgerEra era))
     (Tx (LedgerEra era))
     (TxBody (LedgerEra era))
-&gt; TxBody (LedgerEra era)
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting
  (TxBody (LedgerEra era))
  (Tx (LedgerEra era))
  (TxBody (LedgerEra era))
forall era. EraTx era =&gt; Lens' (Tx era) (TxBody era)
Lens' (Tx (LedgerEra era)) (TxBody (LedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#bodyTxL"><span class="hs-identifier hs-var">L.bodyTxL</span></a></span><span>
</span><span id="line-295"></span><span>        </span><span class="annot"><a href="#local-6989586621681176222"><span class="hs-identifier hs-type">txhash</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-crypto-class-2.2.2.0-61aab910ecd8f6d7cb4b62fec3fb543649386204c7c5998609c4848b9a61e05f/share/doc/html/src/Cardano.Crypto.Hash.Class.html#Hash"><span class="hs-identifier hs-type">Hash.Hash</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Hashes.html#HASH"><span class="hs-identifier hs-type">L.HASH</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Hashes.html#EraIndependentTxBody"><span class="hs-identifier hs-type">L.EraIndependentTxBody</span></a></span><span>
</span><span id="line-296"></span><span>        </span><span id="local-6989586621681176222"><span class="annot"><span class="annottext">txhash :: Hash HASH EraIndependentTxBody
</span><a href="#local-6989586621681176222"><span class="hs-identifier hs-var hs-var">txhash</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; Hash HASH EraIndependentTxBody)
-&gt; Hash HASH EraIndependentTxBody
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681176207"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; Hash HASH EraIndependentTxBody)
 -&gt; Hash HASH EraIndependentTxBody)
-&gt; (EraCommonConstraints era =&gt; Hash HASH EraIndependentTxBody)
-&gt; Hash HASH EraIndependentTxBody
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody (LedgerEra era) -&gt; Hash HASH EraIndependentTxBody
forall era.
HashAnnotated (TxBody era) EraIndependentTxBody =&gt;
TxBody era -&gt; Hash HASH EraIndependentTxBody
</span><a href="Cardano.Api.Experimental.Tx.html#hashTxBody"><span class="hs-identifier hs-var">hashTxBody</span></a></span><span> </span><span class="annot"><span class="annottext">TxBody (LedgerEra era)
</span><a href="#local-6989586621681176219"><span class="hs-identifier hs-var">txbody</span></a></span><span>
</span><span id="line-297"></span><span>        </span><span id="local-6989586621681176225"><span class="annot"><span class="annottext">sk :: ShelleySigningKey
</span><a href="#local-6989586621681176225"><span class="hs-identifier hs-var hs-var">sk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyWitnessSigningKey -&gt; ShelleySigningKey
</span><a href="Cardano.Api.Tx.Internal.Sign.html#toShelleySigningKey"><span class="hs-identifier hs-var">toShelleySigningKey</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyWitnessSigningKey
</span><a href="#local-6989586621681176209"><span class="hs-identifier hs-var">wsk</span></a></span><span>
</span><span id="line-298"></span><span>        </span><span id="local-6989586621681176227"><span class="annot"><span class="annottext">vk :: VKey 'Witness
</span><a href="#local-6989586621681176227"><span class="hs-identifier hs-var hs-var">vk</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleySigningKey -&gt; VKey 'Witness
</span><a href="Cardano.Api.Tx.Internal.Sign.html#getShelleyKeyWitnessVerificationKey"><span class="hs-identifier hs-var">getShelleyKeyWitnessVerificationKey</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleySigningKey
</span><a href="#local-6989586621681176225"><span class="hs-identifier hs-var">sk</span></a></span><span>
</span><span id="line-299"></span><span>        </span><span id="local-6989586621681176229"><span class="annot"><span class="annottext">signature :: SignedDSIGN DSIGN (Hash HASH EraIndependentTxBody)
</span><a href="#local-6989586621681176229"><span class="hs-keyword hs-var hs-var">signature</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Hash HASH EraIndependentTxBody
-&gt; ShelleySigningKey
-&gt; SignedDSIGN DSIGN (Hash HASH EraIndependentTxBody)
forall tosign.
SignableRepresentation tosign =&gt;
tosign -&gt; ShelleySigningKey -&gt; SignedDSIGN DSIGN tosign
</span><a href="Cardano.Api.Tx.Internal.Sign.html#makeShelleySignature"><span class="hs-identifier hs-var">makeShelleySignature</span></a></span><span> </span><span class="annot"><span class="annottext">Hash HASH EraIndependentTxBody
</span><a href="#local-6989586621681176222"><span class="hs-identifier hs-var">txhash</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleySigningKey
</span><a href="#local-6989586621681176225"><span class="hs-identifier hs-var">sk</span></a></span><span>
</span><span id="line-300"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">VKey 'Witness
-&gt; SignedDSIGN DSIGN (Hash HASH EraIndependentTxBody)
-&gt; WitVKey 'Witness
forall (kr :: KeyRole).
Typeable kr =&gt;
VKey kr
-&gt; SignedDSIGN DSIGN (Hash HASH EraIndependentTxBody) -&gt; WitVKey kr
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Keys.WitVKey.html#WitVKey"><span class="hs-identifier hs-var">L.WitVKey</span></a></span><span> </span><span class="annot"><span class="annottext">VKey 'Witness
</span><a href="#local-6989586621681176227"><span class="hs-identifier hs-var">vk</span></a></span><span> </span><span class="annot"><span class="annottext">SignedDSIGN DSIGN (Hash HASH EraIndependentTxBody)
</span><a href="#local-6989586621681176229"><span class="hs-keyword hs-var">signature</span></a></span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span id="local-6989586621681175864"><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#signTx"><span class="hs-identifier hs-type">signTx</span></a></span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Era.html#Era"><span class="hs-identifier hs-type">Era</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175864"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Keys.Bootstrap.html#BootstrapWitness"><span class="hs-identifier hs-type">L.BootstrapWitness</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Keys.WitVKey.html#WitVKey"><span class="hs-identifier hs-type">L.WitVKey</span></a></span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Keys.Internal.html#Witness"><span class="hs-identifier hs-type">L.Witness</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-type">UnsignedTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175864"><span class="hs-identifier hs-type">era</span></a></span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#Tx"><span class="hs-identifier hs-type">Ledger.Tx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Era.html#LedgerEra"><span class="hs-identifier hs-type">LedgerEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175864"><span class="hs-identifier hs-type">era</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-308"></span><span id="signTx"><span class="annot"><span class="annottext">signTx :: forall era.
Era era
-&gt; [BootstrapWitness]
-&gt; [WitVKey 'Witness]
-&gt; UnsignedTx era
-&gt; Tx (LedgerEra era)
</span><a href="Cardano.Api.Experimental.Tx.html#signTx"><span class="hs-identifier hs-var hs-var">signTx</span></a></span></span><span> </span><span id="local-6989586621681176232"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681176232"><span class="hs-identifier hs-var">era</span></a></span></span><span> </span><span id="local-6989586621681176233"><span class="annot"><span class="annottext">[BootstrapWitness]
</span><a href="#local-6989586621681176233"><span class="hs-identifier hs-var">bootstrapWits</span></a></span></span><span> </span><span id="local-6989586621681176234"><span class="annot"><span class="annottext">[WitVKey 'Witness]
</span><a href="#local-6989586621681176234"><span class="hs-identifier hs-var">shelleyKeyWits</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-type">UnsignedTx</span></a></span><span> </span><span id="local-6989586621681176235"><span class="annot"><span class="annottext">Tx (LedgerEra era)
</span><a href="#local-6989586621681176235"><span class="hs-identifier hs-var">unsigned</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-309"></span><span>  </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; Tx (LedgerEra era))
-&gt; Tx (LedgerEra era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681176232"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; Tx (LedgerEra era))
 -&gt; Tx (LedgerEra era))
-&gt; (EraCommonConstraints era =&gt; Tx (LedgerEra era))
-&gt; Tx (LedgerEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-310"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681176248"><span class="annot"><span class="annottext">currentScriptWitnesses :: TxWits (LedgerEra era)
</span><a href="#local-6989586621681176248"><span class="hs-identifier hs-var hs-var">currentScriptWitnesses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx (LedgerEra era)
</span><a href="#local-6989586621681176235"><span class="hs-identifier hs-var">unsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Tx (LedgerEra era)
-&gt; Getting
     (TxWits (LedgerEra era))
     (Tx (LedgerEra era))
     (TxWits (LedgerEra era))
-&gt; TxWits (LedgerEra era)
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting
  (TxWits (LedgerEra era))
  (Tx (LedgerEra era))
  (TxWits (LedgerEra era))
forall era. EraTx era =&gt; Lens' (Tx era) (TxWits era)
Lens' (Tx (LedgerEra era)) (TxWits (LedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#witsTxL"><span class="hs-identifier hs-var">L.witsTxL</span></a></span><span>
</span><span id="line-311"></span><span>        </span><span id="local-6989586621681176249"><span class="annot"><span class="annottext">keyWits :: TxWits (LedgerEra era)
</span><a href="#local-6989586621681176249"><span class="hs-identifier hs-var hs-var">keyWits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-312"></span><span>          </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; TxWits (LedgerEra era))
-&gt; TxWits (LedgerEra era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681176232"><span class="hs-identifier hs-var">era</span></a></span><span> </span><span class="annot"><span class="annottext">((EraCommonConstraints era =&gt; TxWits (LedgerEra era))
 -&gt; TxWits (LedgerEra era))
-&gt; (EraCommonConstraints era =&gt; TxWits (LedgerEra era))
-&gt; TxWits (LedgerEra era)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-313"></span><span>            </span><span class="annot"><span class="annottext">TxWits (LedgerEra era)
forall era. EraTxWits era =&gt; TxWits era
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#mkBasicTxWits"><span class="hs-identifier hs-var">L.mkBasicTxWits</span></a></span><span>
</span><span id="line-314"></span><span>              </span><span class="annot"><span class="annottext">TxWits (LedgerEra era)
-&gt; (TxWits (LedgerEra era) -&gt; TxWits (LedgerEra era))
-&gt; TxWits (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Set (WitVKey 'Witness) -&gt; Identity (Set (WitVKey 'Witness)))
-&gt; TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era))
forall era.
EraTxWits era =&gt;
Lens' (TxWits era) (Set (WitVKey 'Witness))
Lens' (TxWits (LedgerEra era)) (Set (WitVKey 'Witness))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#addrTxWitsL"><span class="hs-identifier hs-var">L.addrTxWitsL</span></a></span><span>
</span><span id="line-315"></span><span>                </span><span class="annot"><span class="annottext">((Set (WitVKey 'Witness) -&gt; Identity (Set (WitVKey 'Witness)))
 -&gt; TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era)))
-&gt; Set (WitVKey 'Witness)
-&gt; TxWits (LedgerEra era)
-&gt; TxWits (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">[WitVKey 'Witness] -&gt; Set (WitVKey 'Witness)
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[WitVKey 'Witness]
</span><a href="#local-6989586621681176234"><span class="hs-identifier hs-var">shelleyKeyWits</span></a></span><span>
</span><span id="line-316"></span><span>              </span><span class="annot"><span class="annottext">TxWits (LedgerEra era)
-&gt; (TxWits (LedgerEra era) -&gt; TxWits (LedgerEra era))
-&gt; TxWits (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(Set BootstrapWitness -&gt; Identity (Set BootstrapWitness))
-&gt; TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era))
forall era.
EraTxWits era =&gt;
Lens' (TxWits era) (Set BootstrapWitness)
Lens' (TxWits (LedgerEra era)) (Set BootstrapWitness)
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#bootAddrTxWitsL"><span class="hs-identifier hs-var">L.bootAddrTxWitsL</span></a></span><span>
</span><span id="line-317"></span><span>                </span><span class="annot"><span class="annottext">((Set BootstrapWitness -&gt; Identity (Set BootstrapWitness))
 -&gt; TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era)))
-&gt; Set BootstrapWitness
-&gt; TxWits (LedgerEra era)
-&gt; TxWits (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="annot"><span class="annottext">[BootstrapWitness] -&gt; Set BootstrapWitness
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/containers-0.6.8-inplace/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">[BootstrapWitness]
</span><a href="#local-6989586621681176233"><span class="hs-identifier hs-var">bootstrapWits</span></a></span><span>
</span><span id="line-318"></span><span>        </span><span id="local-6989586621681176264"><span class="annot"><span class="annottext">signedTx :: Tx (LedgerEra era)
</span><a href="#local-6989586621681176264"><span class="hs-identifier hs-var hs-var">signedTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tx (LedgerEra era)
</span><a href="#local-6989586621681176235"><span class="hs-identifier hs-var">unsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Tx (LedgerEra era)
-&gt; (Tx (LedgerEra era) -&gt; Tx (LedgerEra era)) -&gt; Tx (LedgerEra era)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/Data.Function.html#%26"><span class="hs-operator hs-var">&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">(TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era)))
-&gt; Tx (LedgerEra era) -&gt; Identity (Tx (LedgerEra era))
forall era. EraTx era =&gt; Lens' (Tx era) (TxWits era)
Lens' (Tx (LedgerEra era)) (TxWits (LedgerEra era))
</span><a href="file:///home/runner/.local/state/cabal/store/ghc-9.8.2-inplace/cardano-ledger-core-1.17.0.0-c529cfdaff99fe0b3ea055300bb1a49018727999bae10ebe3e2c288befbceafa/share/doc/html/src/Cardano.Ledger.Core.html#witsTxL"><span class="hs-identifier hs-var">L.witsTxL</span></a></span><span> </span><span class="annot"><span class="annottext">((TxWits (LedgerEra era) -&gt; Identity (TxWits (LedgerEra era)))
 -&gt; Tx (LedgerEra era) -&gt; Identity (Tx (LedgerEra era)))
-&gt; TxWits (LedgerEra era)
-&gt; Tx (LedgerEra era)
-&gt; Tx (LedgerEra era)
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">.~</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxWits (LedgerEra era)
</span><a href="#local-6989586621681176249"><span class="hs-identifier hs-var">keyWits</span></a></span><span> </span><span class="annot"><span class="annottext">TxWits (LedgerEra era)
-&gt; TxWits (LedgerEra era) -&gt; TxWits (LedgerEra era)
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TxWits (LedgerEra era)
</span><a href="#local-6989586621681176248"><span class="hs-identifier hs-var">currentScriptWitnesses</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Tx (LedgerEra era)
</span><a href="#local-6989586621681176264"><span class="hs-identifier hs-var">signedTx</span></a></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span class="hs-comment">-- Compatibility related. Will be removed once the old api has been deprecated and deleted.</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span id="local-6989586621681175871"><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#convertTxBodyToUnsignedTx"><span class="hs-identifier hs-type">convertTxBodyToUnsignedTx</span></a></span><span>
</span><span id="line-324"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Stack.Types.html#HasCallStack"><span class="hs-identifier hs-type">HasCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Era.Internal.Eon.ShelleyBasedEra.html#ShelleyBasedEra"><span class="hs-identifier hs-type">ShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175871"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Sign.html#TxBody"><span class="hs-identifier hs-type">TxBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175871"><span class="hs-identifier hs-type">era</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-type">UnsignedTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681175871"><span class="hs-identifier hs-type">era</span></a></span></span><span>
</span><span id="line-325"></span><span id="convertTxBodyToUnsignedTx"><span class="annot"><span class="annottext">convertTxBodyToUnsignedTx :: forall era.
HasCallStack =&gt;
ShelleyBasedEra era -&gt; TxBody era -&gt; UnsignedTx era
</span><a href="Cardano.Api.Experimental.Tx.html#convertTxBodyToUnsignedTx"><span class="hs-identifier hs-var hs-var">convertTxBodyToUnsignedTx</span></a></span></span><span> </span><span id="local-6989586621681176279"><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681176279"><span class="hs-identifier hs-var">sbe</span></a></span></span><span> </span><span id="local-6989586621681176280"><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681176280"><span class="hs-identifier hs-var">txbody</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-326"></span><span>  </span><span class="annot"><span class="annottext">CardanoEra era
-&gt; UnsignedTx era -&gt; (Era era -&gt; UnsignedTx era) -&gt; UnsignedTx era
forall (eon :: * -&gt; *) era a.
Eon eon =&gt;
CardanoEra era -&gt; a -&gt; (eon era -&gt; a) -&gt; a
</span><a href="Cardano.Api.Era.Internal.Core.html#forEraInEon"><span class="hs-identifier hs-var">forEraInEon</span></a></span><span>
</span><span id="line-327"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; CardanoEra era
forall era. ShelleyBasedEra era -&gt; CardanoEra era
forall (eon :: * -&gt; *) era.
ToCardanoEra eon =&gt;
eon era -&gt; CardanoEra era
</span><a href="Cardano.Api.Era.Internal.Core.html#toCardanoEra"><span class="hs-identifier hs-var">toCardanoEra</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681176279"><span class="hs-identifier hs-var">sbe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; UnsignedTx era
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; UnsignedTx era) -&gt; String -&gt; UnsignedTx era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;convertTxBodyToUnsignedTx: Error - unsupported era &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Doc AnsiStyle -&gt; String
</span><a href="Cardano.Api.Pretty.html#docToString"><span class="hs-identifier hs-var">docToString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyBasedEra era -&gt; Doc AnsiStyle
forall a ann. Pretty a =&gt; a -&gt; Doc ann
forall ann. ShelleyBasedEra era -&gt; Doc ann
</span><span class="hs-identifier hs-var">pretty</span></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><a href="#local-6989586621681176279"><span class="hs-identifier hs-var">sbe</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681176282"><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681176282"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-330"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Cardano.Api.Tx.Internal.Sign.html#ShelleyTx"><span class="hs-identifier hs-type">ShelleyTx</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyBasedEra era
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621681176283"><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
</span><a href="#local-6989586621681176283"><span class="hs-identifier hs-var">unsignedLedgerTx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[KeyWitness era] -&gt; TxBody era -&gt; Tx era
forall era. [KeyWitness era] -&gt; TxBody era -&gt; Tx era
</span><a href="Cardano.Api.Tx.Internal.Sign.html#makeSignedTransaction"><span class="hs-identifier hs-var">makeSignedTransaction</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">TxBody era
</span><a href="#local-6989586621681176280"><span class="hs-identifier hs-var">txbody</span></a></span><span>
</span><span id="line-331"></span><span>        </span><span class="annot"><span class="annottext">Tx (LedgerEra era) -&gt; UnsignedTx era
forall era. Tx (LedgerEra era) -&gt; UnsignedTx era
</span><a href="Cardano.Api.Experimental.Tx.html#UnsignedTx"><span class="hs-identifier hs-var">UnsignedTx</span></a></span><span> </span><span class="annot"><span class="annottext">(Tx (LedgerEra era) -&gt; UnsignedTx era)
-&gt; Tx (LedgerEra era) -&gt; UnsignedTx era
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/9chp0612x8qdsy1vxq84w9zm3fbs6la8-ghc-9.8.2-doc/share/doc/ghc-9.8.2/html/libraries/base-4.19.1.0-inplace/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
-&gt; (EraCommonConstraints era =&gt; Tx (LedgerEra era))
-&gt; Tx (LedgerEra era)
forall era a. Era era -&gt; (EraCommonConstraints era =&gt; a) -&gt; a
</span><a href="Cardano.Api.Experimental.Era.html#obtainCommonConstraints"><span class="hs-identifier hs-var">obtainCommonConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">Era era
</span><a href="#local-6989586621681176282"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Tx (ShelleyLedgerEra era)
Tx (LedgerEra era)
EraCommonConstraints era =&gt; Tx (LedgerEra era)
</span><a href="#local-6989586621681176283"><span class="hs-identifier hs-var">unsignedLedgerTx</span></a></span><span>
</span><span id="line-332"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-333"></span></pre></body></html>